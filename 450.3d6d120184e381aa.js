"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[450],{7072:(v,l,t)=>{t.d(l,{o:()=>d});var s=t(4537),p=t(4091),c=t(6101),i=t(7343),m=t(7493);class d{constructor(o){this.injector=o,this.elRef=this.injector.get(s.SBq),this.i18n=this.injector.get(c.T),this.fontsService=this.injector.get(p.C),this.panoService=this.injector.get(i.X),this.statsService=this.injector.get(m.G)}_updateFontStyle(o,r){!o||Object.keys(r).filter(e=>["family","align","size","line_height"].includes(e)).forEach(e=>{o[e]||(o[e]=r[e])})}}},7493:(v,l,t)=>{t.d(l,{G:()=>n});var s=t(4537),p=t(8692),c=t(5732),i=t(8066),m=t(5056),d=t(7343);let n=(()=>{class o{constructor(e,a,h,u,_){this.http=e,this.windowRef=a,this.viewerDataService=h,this.panoService=u,this.platformId=_,this.session_id=""}send(e){if((0,p.PM)(this.platformId)||this.viewerDataService.editor||!this.panoService.moderationUrl)return;this.session_id||(this.session_id=(Math.random().toString(36).slice(2)+Date.now().toString(36)).substr(0,16));let a=this._getStats();0!=a.host.indexOf("localhost")&&(null!=e.type&&(a.type=e.type),null!=e.plugin&&(a.plugin=e.plugin),null!=e.details&&(a.details=e.details),this.http.post("https://apiw.gothru.co/tours/stats",a).subscribe())}getWidget(e){let h=[{name:"Berlin Menu",component:"MenuHopenkeComponent"},{name:"Side Menu",component:"MenuKavftigComponent"},{name:"Top Menu",component:"MenuLekprogComponent"},{name:"Real Estate Menu",component:"MenuLoppitteComponent"},{name:"Berlin Map",component:"SchemeHopenkeComponent"},{name:"Floor Map",component:"SchemeKavftigComponent"},{name:"Mapbox",component:"SchemeGvesjodComponent"},{name:"Berlin Hotspot",component:"HotspotHopenkeComponent"},{name:"Hotspot",component:"HotspotKavftigComponent"},{name:"Pano link",component:"HotspotHolmlackComponent"},{name:"Berlin Control",component:"ControlHopenkeComponent"},{name:"Control Bar",component:"ControlKavftigComponent"},{name:"Real Estate Control",component:"ControlLoppitteComponent"},{name:"Carousel",component:"OtherCarouselComponent"},{name:"Language",component:"OtherLanguageComponent"},{name:"Logo",component:"OtherLogoComponent"},{name:"Code",component:"OtherCodeComponent"},{name:"Password",component:"OtherPasswordComponent"},{name:"Pano Label",component:"OtherTitleComponent"}].filter(u=>u.component==e).pop();return h?{name:h.name,key:h.name.toLowerCase().replace(" ","_")}:{name:"",key:""}}_getStats(){let e={ip:null,action:null,returning:null,user_type:null,time:null,m_key:null,user_id:this.panoService.user_id,session_id:this.session_id,browser:this.windowRef.nativeWindow.navigator.userAgent,height:this.windowRef.nativeWindow.innerHeight,language:this.windowRef.nativeWindow.navigator.language,location:this.windowRef.nativeWindow.location.href,moderation_id:this.viewerDataService.active.t_id,pano_id:this.viewerDataService.active.id,referer:document.referrer,site:this.panoService.moderationUrl.substr(2),local_time:Math.floor(Date.now()/1e3),width:this.windowRef.nativeWindow.innerWidth,device:null,host:null,tour_type:null,plugin:null,type:null,details:null};return this.panoService.googleApiKey&&(e.m_key=this.panoService.googleApiKey),e.device=this.windowRef.nativeWindow.innerWidth<600?"mobile":this.windowRef.nativeWindow.innerWidth>=600&&this.windowRef.nativeWindow.innerWidth<1e3?"tablet":"desktop",e.host=e.location.split("/")[2],e.tour_type=0==this.panoService.moderationUrl.indexOf("G")?"google":"hosted",e}}return o.\u0275fac=function(e){return new(e||o)(s.LFG(c.eN),s.LFG(i.X),s.LFG(m.m),s.LFG(d.X),s.LFG(s.Lbi))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},651:(v,l,t)=>{t.r(l),t.d(l,{OtherPasswordModule:()=>d});var s=t(8692),p=t(8041);const c=JSON.parse('{"widget":"OtherPasswordComponent","options":[{"key":"password","label":"Password","type":"simple-text","help":"","value":""},{"key":"password-label","label":"Label text","type":"simple-text","help":"Optional (default: Password)","value":""}]}');var i=t(4537);let m=(()=>{class n extends p.P{constructor(){super(...arguments),this.default_options=c}}return n.\u0275fac=function(){let o;return function(e){return(o||(o=i.n5z(n)))(e||n)}}(),n.\u0275cmp=i.Xpm({type:n,selectors:[["wdg-other-password"]],features:[i.qOj],decls:0,vars:0,template:function(r,e){},encapsulation:2}),n})(),d=(()=>{class n{constructor(r){this.componentFactoryResolver=r}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(m)}}return n.\u0275fac=function(r){return new(r||n)(i.LFG(i._Vd))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[s.ez]}),n})()}}]);