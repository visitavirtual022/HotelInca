"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[932],{7072:(E,z,p)=>{p.d(z,{o:()=>d});var v=p(8692),b=p(4537),g=p(4091),O=p(6101),x=p(7343),_=p(7493);class d{constructor(C){if(this.injector=C,this.isMobile=!1,this.observableFunc={},this.elRef=this.injector.get(b.SBq),this.i18n=this.injector.get(O.T),this.fontsService=this.injector.get(g.C),this.panoService=this.injector.get(x.X),this.statsService=this.injector.get(_.G),(0,v.NF)(this.panoService.platformId)){const h=navigator.userAgent.toLowerCase();this.isMobile=-1!==h.indexOf("mobile")||-1!==h.indexOf("android")}}_updateFontStyle(C,h){!C||Object.keys(h).filter(u=>["family","align","size","line_height"].includes(u)).forEach(u=>{C[u]||(C[u]=h[u])})}setFontStyle(C,h){this.fontsService.setFontStyle(this.elRef,C,h)}setStyleProperties(C){Object.entries(C).forEach(h=>{this.elRef.nativeElement.style.setProperty(h[0],h[1])})}}},4507:(E,z,p)=>{p.d(z,{D:()=>b});var v=p(4537);let b=(()=>{class g{}return g.\u0275fac=function(x){return new(x||g)},g.\u0275mod=v.oAB({type:g}),g.\u0275inj=v.cJS({}),g})()},7493:(E,z,p)=>{p.d(z,{G:()=>d});var v=p(4537),b=p(8692),g=p(5732),O=p(8066),x=p(5056),_=p(7343);let d=(()=>{class S{constructor(h,u,r,c,t){this.http=h,this.windowRef=u,this.viewerDataService=r,this.panoService=c,this.platformId=t,this.session_id=""}send(h){if((0,b.PM)(this.platformId)||this.viewerDataService.editor||!this.panoService.moderationUrl)return;this.session_id||(this.session_id=window.crypto.randomUUID());let u=this._getStats();0!=u.host.indexOf("localhost")&&(null!=h.type&&(u.type=h.type),null!=h.plugin&&(u.plugin=h.plugin),null!=h.details&&(u.details=h.details),this.http.post("https://apiw.gothru.co/tours/stats",u).subscribe())}getWidget(h){let r=[{name:"Berlin Menu",component:"MenuHopenkeComponent"},{name:"Side Menu",component:"MenuKavftigComponent"},{name:"Top Menu",component:"MenuLekprogComponent"},{name:"Real Estate Menu",component:"MenuLoppitteComponent"},{name:"Berlin Map",component:"SchemeHopenkeComponent"},{name:"Floor Map",component:"SchemeKavftigComponent"},{name:"Mapbox",component:"SchemeGvesjodComponent"},{name:"Berlin Hotspot",component:"HotspotHopenkeComponent"},{name:"Hotspot",component:"HotspotKavftigComponent"},{name:"Pano link",component:"HotspotHolmlackComponent"},{name:"Berlin Control",component:"ControlHopenkeComponent"},{name:"Control Bar",component:"ControlKavftigComponent"},{name:"Real Estate Control",component:"ControlLoppitteComponent"},{name:"Carousel",component:"OtherCarouselComponent"},{name:"Language",component:"OtherLanguageComponent"},{name:"Logo",component:"OtherLogoComponent"},{name:"Code",component:"OtherCodeComponent"},{name:"Password",component:"OtherPasswordComponent"},{name:"Pano Label",component:"OtherTitleComponent"}].filter(c=>c.component==h).pop();return r?{name:r.name,key:r.name.toLowerCase().replace(" ","_")}:{name:"",key:""}}_getStats(){let h={ip:null,action:null,returning:null,user_type:null,time:null,m_key:null,user_id:this.panoService.user_id,session_id:this.session_id,browser:this.windowRef.nativeWindow.navigator.userAgent,height:this.windowRef.nativeWindow.innerHeight,language:this.windowRef.nativeWindow.navigator.language,location:this.windowRef.nativeWindow.location.href,moderation_id:this.viewerDataService.active.t_id,pano_id:this.viewerDataService.active.id,referer:document.referrer,site:this.panoService.moderationUrl.substr(2),local_time:Math.floor(Date.now()/1e3),width:this.windowRef.nativeWindow.innerWidth,device:null,host:null,tour_type:null,plugin:null,type:null,details:null};return this.panoService.googleApiKey&&(h.m_key=this.panoService.googleApiKey),h.device=this.windowRef.nativeWindow.innerWidth<600?"mobile":this.windowRef.nativeWindow.innerWidth>=600&&this.windowRef.nativeWindow.innerWidth<1e3?"tablet":"desktop",h.host=h.location.split("/")[2],h.tour_type=0==this.panoService.moderationUrl.indexOf("G")?"google":"hosted",h}}return S.\u0275fac=function(h){return new(h||S)(v.LFG(g.eN),v.LFG(O.X),v.LFG(x.m),v.LFG(_.X),v.LFG(v.Lbi))},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},1152:(E,z,p)=>{p.r(z),p.d(z,{OtherSparticlesModule:()=>u});var v=p(8692),b=p(4507),g=p(4537),O=p(8041);const x=JSON.parse('{"widget":"OtherSparticlesComponent","options":[{"key":"effect","label":"Effect","selects":["snowfall"],"type":"select","category":"content","value":"snowfall"},{"key":"count","label":"Count","type":"slider","category":"appearance","max":1000,"value":120},{"key":"min-size","label":"Min Size","type":"slider","category":"appearance","value":3},{"key":"max-size","label":"Max Size","type":"slider","category":"appearance","value":24}]}');var _=p(339),d=p(9911);const S=["widget"];function C(r,c){1&r&&g._UZ(0,"div",1,2)}let h=(()=>{class r extends O.P{constructor(){super(...arguments),this.default_options=x}addObservableFunc(){this.observableFunc.count=t=>this.onCountChange(t),this.observableFunc.min_size=t=>this.onMinSizeChange(t),this.observableFunc.max_size=t=>this.onMaxSizeChange(t)}onCountChange(t){!this.mySparticles||(this.mySparticles.settings.count=t,this.mySparticles.resetSparticles())}onMinSizeChange(t){!this.mySparticles||(this.mySparticles.settings.minSize=t,this.mySparticles.resetSparticles())}onMaxSizeChange(t){!this.mySparticles||(this.mySparticles.settings.maxSize=t,this.mySparticles.resetSparticles())}initSparticles(){this.mySparticles=new _(this.widgetElm.nativeElement,{alphaSpeed:2,alphaVariance:1,color:["rgba(255,255,255,1)","rgba(233,239,250,1)","rgba(222,241,250,1)","rgba(178,209,219,1)"],composition:"source-over",count:this.options.count.value,direction:160,drift:2,glow:50,maxAlpha:2,maxSize:this.options.max_size.value,minAlpha:-.2,minSize:this.options.min_size.value,parallax:6,rotation:.5,shape:["diamond"],speed:2.5,style:"fill",twinkle:!1,xVariance:20,yVariance:20})}initData(){this.addObservableFunc(),super.initData(),(0,v.NF)(this.panoService.platformId)&&d.v.waitUntil(()=>this.widgetElm.nativeElement?.offsetWidth).then(()=>this.initSparticles())}}return r.\u0275fac=function(){let c;return function(i){return(c||(c=g.n5z(r)))(i||r)}}(),r.\u0275cmp=g.Xpm({type:r,selectors:[["wdg-other-sparticles"]],viewQuery:function(t,i){if(1&t&&g.Gf(S,5,g.SBq),2&t){let s;g.iGM(s=g.CRH())&&(i.widgetElm=s.first)}},features:[g.qOj],decls:1,vars:1,consts:[["class","widget other sparticles",4,"ngIf"],[1,"widget","other","sparticles"],["widget",""]],template:function(t,i){1&t&&g.YNc(0,C,2,0,"div",0),2&t&&g.Q6J("ngIf",i.widgetInit)},dependencies:[v.O5],styles:[".widget[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:98;top:0;left:0;display:block;pointer-events:none}.widget[_ngcontent-%COMP%]     canvas{position:absolute;width:100%;height:100%;top:0;left:0;right:0;bottom:0}"]}),r})(),u=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=g.oAB({type:r,bootstrap:[h]}),r.\u0275inj=g.cJS({imports:[v.ez,b.D]}),r})()},339:E=>{var z=function(){function p(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}function v(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);i&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,e)}return s}function b(t){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?v(Object(s),!0).forEach(function(e){p(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;this.fps=i,this.handler=t;var s=0;this.start=function(){var e=this;if(!this.started){var n=performance.now(),a=1e3/this.fps;s=requestAnimationFrame(function o(w){var l=w-n;s=requestAnimationFrame(o),l>=a-0&&(e.handler(l),n=w-l%a)}),this.started=!0}},this.stop=function(){cancelAnimationFrame(s),this.started=!1}},O=function(t){return[Math.cos(_(t-90)),Math.sin(_(t-90))]},x=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(i,Math.min(s,t))},_=function(t){return t*Math.PI/180},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random();return i<=t?s=t:(0!==t||1!==i)&&i>t&&(s=s*(i-t)+t),s},S=function(t){return t[Math.floor(d(0,t.length))]},C=function(){var t=u(d(0,360)),i=u(d(90,100)),s=u(d(45,85));return"hsl(".concat(t,",").concat(i,"%,").concat(s,"%)")},h=function(t){return t>d()},u=function(t){return.5+t|0},r=function(t){return t?(this.canvas=t.canvas,this.settings=t.settings,this.colors=t.colors,this.shapes=t.shapes,this.images=t.images,this.styles=t.styles,this.ctx=t.canvas.getContext("2d"),this.setup(),this.init()):console.warn("Invalid parameters given to Sparticle()",arguments),this};r.prototype.setup=function(){var t=this.settings;this.frame=0,this.frameoffset=u(d(0,360)),this.size=u(d(t.minSize,t.maxSize)),this.da=this.getAlphaDelta(),this.dx=this.getDeltaX(),this.dy=this.getDeltaY(),this.dd=this.getDriftDelta(),this.dr=this.getRotationDelta(),this.color=this.getColor(),this.shape=this.getShape(),this.image=this.getImage(),this.style=this.getStyle(),this.rotation=t.rotate?_(d(0,360)):0,this.vertical=t.direction>150&&t.direction<210||t.direction>330&&t.direction<390||t.direction>-30&&t.direction<30,this.horizontal=t.direction>60&&t.direction<120||t.direction>240&&t.direction<300},r.prototype.init=function(){var t=this.settings,i=this.canvas;this.alpha=0,(t.speed>0||0===t.alphaSpeed)&&(this.alpha=d(t.minAlpha,t.maxAlpha)),t.bounce?(this.px=u(d(2,i.width-this.size-2)),this.py=u(d(2,i.height-this.size-2))):(this.px=u(d(2*-this.size,i.width+this.size)),this.py=u(d(2*-this.size,i.height+this.size)))},r.prototype.reset=function(){this.setup(),this.py<0?this.py=this.canvas.height+2*this.size:this.py>this.canvas.height&&(this.py=0-2*this.size),this.px<0?this.px=this.canvas.width+2*this.size:this.px>this.canvas.width&&(this.px=0-2*this.size)},r.prototype.bounce=function(){(this.py<=0||this.py+this.size>=this.canvas.height)&&(this.dy=-this.dy,this.horizontal&&(this.dd=-this.dd)),(this.px<=0||this.px+this.size>=this.canvas.width)&&(this.dx=-this.dx,this.vertical&&(this.dd=-this.dd))},r.prototype.isOffCanvas=function(){var t=0-2*this.size;return this.px<t||this.px>this.canvas.width+2*this.size||this.py<t||this.py>this.canvas.height+2*this.size},r.prototype.isTouchingEdge=function(){return this.px<0||this.px>this.canvas.width-this.size||this.py<0||this.py>this.canvas.height-this.size},r.prototype.getColor=function(){return"random"===this.settings.color?S(this.colors):Array.isArray(this.settings.color)?S(this.settings.color):this.settings.color},r.prototype.getShape=function(){return"random"===this.settings.shape?S(this.shapes):Array.isArray(this.settings.shape)?S(this.settings.shape):this.settings.shape},r.prototype.getImage=function(){return Array.isArray(this.settings.imageUrl)?S(this.settings.imageUrl):this.settings.imageUrl},r.prototype.getStyle=function(){return S(this.styles)},r.prototype.getDelta=function(){var t=.1*this.settings.speed;return this.settings.speed&&this.settings.parallax?t+this.size*this.settings.parallax/50:t},r.prototype.getDeltaVariance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.settings.speed||10;return t>0?d(-t,t)*i/100:0},r.prototype.getDeltaX=function(){var t=this.getDelta(),i=this.getDeltaVariance(this.settings.xVariance);return O(this.settings.direction)[0]*t+i},r.prototype.getDeltaY=function(){var t=this.getDelta(),i=this.getDeltaVariance(this.settings.yVariance);return O(this.settings.direction)[1]*t+i},r.prototype.getAlphaDelta=function(){var i=d(1,this.settings.alphaVariance+1);return h(.5)&&(i=-i),i},r.prototype.getDriftDelta=function(){return this.settings.drift?d(this.settings.drift-this.settings.drift/2,this.settings.drift+this.settings.drift/2):0},r.prototype.getRotationDelta=function(){var t=0;return this.settings.rotate&&this.settings.rotation&&(t=_(d(.5,1.5)*this.settings.rotation),h(.5)&&(t=-t)),t},r.prototype.update=function(){return this.frame+=1,this.updatePosition(),this.updateAlpha(),this},r.prototype.updateAlpha=function(){return this.settings.alphaSpeed>0&&(this.alpha=this.settings.twinkle?this.updateTwinkle():this.updateFade()),this.alpha},r.prototype.updateFade=function(){var i=this.alpha+this.da/1e3*this.settings.alphaSpeed*.5,e=this.da<0&&i<this.settings.minAlpha;return(this.da>0&&i>this.settings.maxAlpha||e)&&(this.da=-this.da,i=this.settings.maxAlpha,e&&(i=this.settings.minAlpha)),i},r.prototype.updateTwinkle=function(){var t=this.alpha,i=Math.abs(this.da),s=t>this.settings.maxAlpha,e=t<this.settings.minAlpha,n=i/1e3*this.settings.alphaSpeed*.5,a=h(1/30),o=h(1/30);return this.resettingTwinkle?t+=5*n:a?t+=50*n:t-=o?25*n:n,e?(this.resettingTwinkle=!0,t=this.settings.minAlpha):s&&(this.resettingTwinkle=!1,t=this.settings.maxAlpha),t},r.prototype.updatePosition=function(){if(this.settings.bounce&&this.isTouchingEdge())this.bounce();else if(this.isOffCanvas())return void this.reset();this.px+=this.dx,this.py+=this.dy,this.updateDrift(),this.updateRotation()},r.prototype.updateRotation=function(){this.settings.rotate&&this.settings.rotation&&(this.rotation+=this.dr)},r.prototype.updateDrift=function(){var t=this.settings;t.drift&&t.speed&&(this.vertical?this.px+=O(this.frame+this.frameoffset)[0]*this.dd/(15*this.getDelta()):this.horizontal&&(this.py+=O(this.frame+this.frameoffset)[1]*this.dd/(15*this.getDelta())))},r.prototype.render=function(t){var i,s=(i="image"!==this.shape?t[this.color][this.shape][this.style]:t[this.color][this.shape][this.image]).width,e=this.size/s,n=this.px/e,a=this.py/e;return this.ctx.globalAlpha=x(this.alpha,0,1),this.renderRotate(),this.ctx.transform(e,0,0,e,0,0),this.ctx.drawImage(i,0,0,s,s,n,a,s,s),this.ctx.setTransform(1,0,0,1,0,0),this},r.prototype.renderRotate=function(){if("circle"!==this.shape&&this.settings.rotate){var t=this.px+this.size/2,i=this.py+this.size/2;this.ctx.translate(t,i),this.ctx.rotate(this.rotation),this.ctx.translate(-t,-i)}};var c=function(t,i,s,e){arguments.length>=1&&!(arguments[0]instanceof HTMLElement)&&(i=arguments[0],s=arguments[1],e=arguments[2],t=void 0),s&&!e&&(e=s);var n={alphaSpeed:10,alphaVariance:1,bounce:!1,color:"random",randomColor:C,randomColorCount:3,composition:"source-over",count:50,direction:180,drift:1,glow:0,imageUrl:"",maxAlpha:1,maxSize:10,minAlpha:0,minSize:1,parallax:1,rotate:!0,rotation:1,shape:"circle",speed:10,style:"fill",twinkle:!1,xVariance:2,yVariance:2};return this.el=t||document.body,this.settings=b({},n,{},i),this.resizable=!s&&!e,this.width=this.resizable?this.el.clientWidth:s,this.height=this.resizable?this.el.clientHeight:e,this.init=function(){var a=this;return this.sparticles=[],this.colors=this.getColorArray(),this.shapes=this.getShapeArray(),this.styles=this.getStyleArray(),this.imageUrls=this.getImageArray(),this.setupMainCanvas(),this.setupOffscreenCanvasses(function(){a.createSparticles(),a.start()}),window.addEventListener("resize",this),this},this.handleEvent=function(a){var o=this;"resize"===a.type&&(clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){o.resizable&&(o.width=o.el.clientWidth,o.height=o.el.clientHeight,o.setCanvasSize().resetSparticles())},200))},this.start=function(){var a=this;return this.loop||(this.loop=new g(function(o){a.drawFrame(o)})),this.loop.start(),this},this.stop=function(){return this.loop.stop(),this},this.destroy=function(){for(var a in this.stop(),this.el.removeChild(this.canvas),window.removeEventListener("resize",this),this)this.hasOwnProperty(a)&&delete this[a];return this},this.setCanvasSize=function(a,o){return a&&(this.resizable=!1),this.width=a||this.width,this.height=o||this.height,this.canvas.width=this.width,this.canvas.height=this.height,this},this.resetSparticles=this.createSparticles=function(){this.sparticles=[],this.ctx.globalCompositeOperation=this.settings.composition;for(var a=0;a<this.settings.count;a++)this.sparticles.push(new r(this));return this.sparticles.sort(function(o,w){return o.size>w.size}),this.sparticles},this.init()};return c.prototype.getColorArray=function(){var t=Array.isArray(this.settings.color)?this.settings.color:[this.settings.color];if(t.some(function(s){return"random"===s}))for(var i=0;i<this.settings.randomColorCount;i++)t[i]=this.settings.randomColor(i,this.settings.randomColorCount);return t},c.prototype.getShapeArray=function(){var t=Array.isArray(this.settings.shape)?this.settings.shape:[this.settings.shape];return t.some(function(i){return"random"===i})&&(t=["square","circle","triangle"]),t},c.prototype.getImageArray=function(){return Array.isArray(this.settings.imageUrl)?this.settings.imageUrl:[this.settings.imageUrl]},c.prototype.getStyleArray=function(){var t=this.settings.style;return"fill"!==t&&"stroke"!==t?["fill","stroke"]:[t]},c.prototype.setupMainCanvas=function(){return this.canvas=document.createElement("canvas"),this.canvas.setAttribute("class","sparticles"),this.ctx=this.canvas.getContext("2d"),this.setCanvasSize(),this.el.appendChild(this.canvas),this.canvas},c.prototype.setupOffscreenCanvasses=function(t){var i=this,s=this.colors.filter(function(f,y){return i.colors.indexOf(f)===y}),e=this.shapes.filter(function(f,y){return i.shapes.indexOf(f)===y}),n=this.styles.filter(function(f,y){return i.styles.indexOf(f)===y}),a=this.imageUrls.filter(function(f,y){return i.imageUrls.indexOf(f)===y}),o=s.length*a.length,w=s.length*e.length*n.length,l=0,m=0;this.canvasses=this.canvasses||{},s.forEach(function(f){i.canvasses[f]=i.canvasses[f]||{},e.forEach(function(y){i.canvasses[f][y]=i.canvasses[f][y]||{},"image"===y?a.forEach(function(M,P){var A=new Image,D=document.createElement("canvas");i.canvasses[f][y][M]=D,A.onload=function(){l++,i.drawOffscreenCanvasForImage(A,f,D),t&&l===o&&t()},A.onerror=function(){console.error("failed to load source image: ",M)},A.src=M}):n.forEach(function(M){var P=document.createElement("canvas");i.canvasses[f][y][M]=P,m++,i.drawOffscreenCanvas(y,M,f,P),t&&m===w&&t()})})})},c.prototype.getGlowSize=function(t){return this.settings.glow},c.prototype.getLineSize=function(t){return x(t/20,1,5)},c.prototype.renderStyle=function(t,i,s,e){"fill"===e?t.fillStyle=i:(t.lineWidth=s,t.strokeStyle=i)},c.prototype.renderGlow=function(t,i,s){var e=this.getGlowSize(s)/2;t.shadowColor=i,t.shadowBlur=e},c.prototype.renderColor=function(t,i){"fill"===i?t.fill():t.stroke()},c.prototype.drawOffscreenCanvas=function(t,i,s,e){return this.offScreenCanvas[t].call(this,i,s,e)},(c.prototype.offScreenCanvas={}).circle=function(t,i,s){var e=s.getContext("2d"),n=this.settings.maxSize,a=this.getLineSize(n),o=n+a+this.getGlowSize(n);return s.width=o,s.height=o,this.renderGlow(e,i,n),this.renderStyle(e,i,a,t),e.beginPath(),e.ellipse(o/2,o/2,n/2,n/2,0,0,360),this.renderColor(e,t),s},c.prototype.offScreenCanvas.square=function(t,i,s){var e=s.getContext("2d"),n=this.settings.maxSize,a=this.getLineSize(n),o=n+a+this.getGlowSize(n);return s.width=o,s.height=o,this.renderGlow(e,i,n),this.renderStyle(e,i,a,t),e.beginPath(),e.rect(o/2-n/2,o/2-n/2,n,n),this.renderColor(e,t),s},c.prototype.offScreenCanvas.line=function(t,i,s){var e=s.getContext("2d"),n=2*this.settings.maxSize,a=this.getLineSize(n),o=n+a+this.getGlowSize(n),w=o/2-n/2,l=o/2-n/2;return s.width=o,s.height=o,this.renderGlow(e,i,n),e.lineWidth=a,e.strokeStyle=i,e.beginPath(),e.moveTo(w,l),e.lineTo(w+n,l+n),e.stroke(),e.closePath(),s},c.prototype.offScreenCanvas.triangle=function(t,i,s){var e=s.getContext("2d"),n=this.settings.maxSize,a=this.getLineSize(n),o=n+a+this.getGlowSize(n),w=n*(Math.sqrt(3)/2),l=o/2,m=o/2-n/2;return s.width=o,s.height=o,this.renderGlow(e,i,n),this.renderStyle(e,i,a,t),e.beginPath(),e.moveTo(l,m),e.lineTo(l-n/2,m+w),e.lineTo(l+n/2,m+w),e.closePath(),this.renderColor(e,t),s},c.prototype.offScreenCanvas.diamond=function(t,i,s){var e=s.getContext("2d"),n=this.settings.maxSize,a=n/2,o=this.getLineSize(n),w=n+o+this.getGlowSize(n),l=w/2,m=.08*n,f=.02*n,y=l-a,M=l;return s.width=w,s.height=w,this.renderGlow(e,i,n),this.renderStyle(e,i,o,t),e.beginPath(),e.moveTo(y+f,M),e.bezierCurveTo(l-m/2,l-2*m,l-2*m,l-m/2,l,l-a),e.bezierCurveTo(l+2*m,l-m/2,l+m/2,l-2*m,l+a-f,l),e.bezierCurveTo(l+m/2,l+2*m,l+2*m,l+m/2,l,l+a),e.bezierCurveTo(l-2*m,l+m/2,l-m/2,l+2*m,y+f,M),e.closePath(),this.renderColor(e,t),s},c.prototype.offScreenCanvas.star=function(t,i,s){var e=s.getContext("2d"),n=this.getLineSize(52),a=this.getGlowSize(52),o=52+2*n+a;return s.width=o,s.height=o,this.renderGlow(e,i,52),this.renderStyle(e,i,n,t),e.translate(n/2+a/2,n/2+a/2-1),e.beginPath(),e.moveTo(27.76,2.07),e.lineTo(34.28,15.46),e.translate(36.01480792437574,14.614221385040288),e.arc(0,0,1.93,2.687967128721911,1.7293919056045395,1),e.translate(-36.01480792437574,-14.614221385040288),e.lineTo(50.37,18.7),e.translate(50.10443046629834,20.601544851632347),e.arc(0,0,1.92,-1.4320339785975214,.8159284165499665,0),e.translate(-50.10443046629834,-20.601544851632347),e.lineTo(40.78,32.36),e.translate(42.13415324373887,33.735197801216785),e.arc(0,0,1.93,-2.3484841809999386,-3.3054346524687857,1),e.translate(-42.13415324373887,-33.735197801216785),e.lineTo(42.7,48.76),e.translate(40.81489078457234,49.06734873663269),e.arc(0,0,1.91,-.16161824093711977,2.052504457600845,0),e.translate(-40.81489078457234,-49.06734873663269),e.lineTo(26.83,43.76),e.translate(25.939999999999998,45.438660180024534),e.arc(0,0,1.9,-1.083293536758034,-2.0582991168317593,1),e.translate(-25.939999999999998,-45.438660180024534),e.lineTo(11.92,50.7),e.translate(11.046023488962076,49.00168758523234),e.arc(0,0,1.91,1.0955254432622383,3.3002085355055915,0),e.translate(-11.046023488962076,-49.00168758523234),e.lineTo(11.7,34),e.translate(9.820265754085725,33.66132734870218),e.arc(0,0,1.91,.178258078542773,-.7933922953534395,1),e.translate(-9.820265754085725,-33.66132734870218),e.lineTo(.57,21.85),e.translate(1.9278161466350117,20.478418681981545),e.arc(0,0,1.93,2.351151232528948,4.5627030955491055,0),e.translate(-1.9278161466350117,-20.478418681981545),e.lineTo(16.31,16.47),e.translate(16.062056630005188,14.576161547207466),e.arc(0,0,1.91,1.4406156600933306,.4870016654036473,1),e.translate(-16.062056630005188,-14.576161547207466),e.lineTo(24.33,2.07),e.translate(26.045,2.9107585860400085),e.arc(0,0,1.91,-2.6857849028374465,-.45580775075234703,0),e.translate(-26.045,-2.9107585860400085),e.closePath(),this.renderColor(e,t),s},c.prototype.drawOffscreenCanvasForImage=function(t,i,s){var e=t.width,n=s.getContext("2d");return s.width=e,s.height=e,n.drawImage(t,0,0,e,e,0,0,e,e),n.globalCompositeOperation="source-atop",n.fillStyle=i,n.fillRect(0,0,e,e),s},c.prototype.drawFrame=function(){this.ctx.clearRect(0,0,this.width,this.height);for(var t=0;t<this.sparticles.length;t++)this.sparticles[t].update().render(this.canvasses);return this.sparticles},c}();E.exports=z}}]);