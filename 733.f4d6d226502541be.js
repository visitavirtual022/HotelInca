"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[733],{7072:(C,m,n)=>{n.d(m,{o:()=>u});var a=n(8692),h=n(4537),l=n(4091),c=n(6101),e=n(7343),s=n(7493);class u{constructor(g){if(this.injector=g,this.isMobile=!1,this.observableFunc={},this.elRef=this.injector.get(h.SBq),this.i18n=this.injector.get(c.T),this.fontsService=this.injector.get(l.C),this.panoService=this.injector.get(e.X),this.statsService=this.injector.get(s.G),(0,a.NF)(this.panoService.platformId)){const t=navigator.userAgent.toLowerCase();this.isMobile=-1!==t.indexOf("mobile")||-1!==t.indexOf("android")}}_updateFontStyle(g,t){!g||Object.keys(t).filter(r=>["family","align","size","line_height"].includes(r)).forEach(r=>{g[r]||(g[r]=t[r])})}setFontStyle(g,t){this.fontsService.setFontStyle(this.elRef,g,t)}setStyleProperties(g){Object.entries(g).forEach(t=>{this.elRef.nativeElement.style.setProperty(t[0],t[1])})}}},4507:(C,m,n)=>{n.d(m,{D:()=>h});var a=n(4537);let h=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({}),l})()},7239:(C,m,n)=>{n.d(m,{y:()=>l});var a=n(4537),h=n(5998);let l=(()=>{class c{constructor(s){this.sanitizer=s}transform(s,u){switch(u){case"html":return this.sanitizer.bypassSecurityTrustHtml(s);case"style":return this.sanitizer.bypassSecurityTrustStyle(s);case"script":return this.sanitizer.bypassSecurityTrustScript(s);case"url":return this.sanitizer.bypassSecurityTrustUrl(s);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(s);default:throw new Error(`Invalid safe type specified: ${u}`)}}}return c.\u0275fac=function(s){return new(s||c)(a.Y36(h.H7,16))},c.\u0275pipe=a.Yjl({name:"safe",type:c,pure:!0}),c})()},7493:(C,m,n)=>{n.d(m,{G:()=>u});var a=n(4537),h=n(8692),l=n(5732),c=n(8066),e=n(5056),s=n(7343);let u=(()=>{class _{constructor(t,r,f,v,o){this.http=t,this.windowRef=r,this.viewerDataService=f,this.panoService=v,this.platformId=o,this.session_id=""}send(t){if((0,h.PM)(this.platformId)||this.viewerDataService.editor||!this.panoService.moderationUrl)return;this.session_id||(this.session_id=window.crypto.randomUUID());let r=this._getStats();0!=r.host.indexOf("localhost")&&(null!=t.type&&(r.type=t.type),null!=t.plugin&&(r.plugin=t.plugin),null!=t.details&&(r.details=t.details),this.http.post("https://apiw.gothru.co/tours/stats",r).subscribe())}getWidget(t){let f=[{name:"Berlin Menu",component:"MenuHopenkeComponent"},{name:"Side Menu",component:"MenuKavftigComponent"},{name:"Top Menu",component:"MenuLekprogComponent"},{name:"Real Estate Menu",component:"MenuLoppitteComponent"},{name:"Berlin Map",component:"SchemeHopenkeComponent"},{name:"Floor Map",component:"SchemeKavftigComponent"},{name:"Mapbox",component:"SchemeGvesjodComponent"},{name:"Berlin Hotspot",component:"HotspotHopenkeComponent"},{name:"Hotspot",component:"HotspotKavftigComponent"},{name:"Pano link",component:"HotspotHolmlackComponent"},{name:"Berlin Control",component:"ControlHopenkeComponent"},{name:"Control Bar",component:"ControlKavftigComponent"},{name:"Real Estate Control",component:"ControlLoppitteComponent"},{name:"Carousel",component:"OtherCarouselComponent"},{name:"Language",component:"OtherLanguageComponent"},{name:"Logo",component:"OtherLogoComponent"},{name:"Code",component:"OtherCodeComponent"},{name:"Password",component:"OtherPasswordComponent"},{name:"Pano Label",component:"OtherTitleComponent"}].filter(v=>v.component==t).pop();return f?{name:f.name,key:f.name.toLowerCase().replace(" ","_")}:{name:"",key:""}}_getStats(){let t={ip:null,action:null,returning:null,user_type:null,time:null,m_key:null,user_id:this.panoService.user_id,session_id:this.session_id,browser:this.windowRef.nativeWindow.navigator.userAgent,height:this.windowRef.nativeWindow.innerHeight,language:this.windowRef.nativeWindow.navigator.language,location:this.windowRef.nativeWindow.location.href,moderation_id:this.viewerDataService.active.t_id,pano_id:this.viewerDataService.active.id,referer:document.referrer,site:this.panoService.moderationUrl.substr(2),local_time:Math.floor(Date.now()/1e3),width:this.windowRef.nativeWindow.innerWidth,device:null,host:null,tour_type:null,plugin:null,type:null,details:null};return this.panoService.googleApiKey&&(t.m_key=this.panoService.googleApiKey),t.device=this.windowRef.nativeWindow.innerWidth<600?"mobile":this.windowRef.nativeWindow.innerWidth>=600&&this.windowRef.nativeWindow.innerWidth<1e3?"tablet":"desktop",t.host=t.location.split("/")[2],t.tour_type=0==this.panoService.moderationUrl.indexOf("G")?"google":"hosted",t}}return _.\u0275fac=function(t){return new(t||_)(a.LFG(l.eN),a.LFG(c.X),a.LFG(e.m),a.LFG(s.X),a.LFG(a.Lbi))},_.\u0275prov=a.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},2781:(C,m,n)=>{n.r(m),n.d(m,{OtherLogoModule:()=>v});var a=n(8692),h=n(4507),l=n(8041);const c=JSON.parse('{"widget":"OtherLogoComponent","options":[{"key":"logos","label":"Image","type":"gallery","category":"content","url":true,"column":true,"value":[]},{"key":"width","label":"Size","type":"slider","category":"appearance","help":"%","value":10},{"key":"margin","label":"Margin","type":"slider","category":"appearance","help":"px","value":10},{"key":"area","label":"Area","areas":["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"],"type":"area","category":"appearance","value":"top-left"},{"key":"vertical","label":"Vertical","type":"toggle","category":"appearance","value":false},{"key":"padding-between","label":"Padding between","type":"slider","category":"appearance","help":"px","value":10},{"key":"styles","label":"Styles","type":"css","category":"styles","value":""}]}');var e=n(4537),s=n(7239);function u(o,p){if(1&o&&(e._UZ(0,"code",2),e.ALo(1,"safe")),2&o){const i=e.oxw();e.Q6J("innerHTML",e.xi3(1,1,i.styles,"html"),e.oJD)}}function _(o,p){if(1&o&&e._UZ(0,"img",8),2&o){const i=e.oxw().$implicit;e.Q6J("src",i.img,e.LSH)}}function g(o,p){if(1&o&&e._UZ(0,"a",9),2&o){const i=e.oxw().$implicit,d=e.oxw(2);e.Q6J("href",d.i18n.t(i.name),e.LSH)}}function t(o,p){if(1&o&&(e.TgZ(0,"div",5),e.YNc(1,_,1,1,"img",6),e.YNc(2,g,1,1,"a",7),e.qZA()),2&o){const i=p.$implicit,d=e.oxw(2);e.Udp("height",d.options.vertical.value?"calc((100% - "+(d.options.logos.value.length-1)+"*"+d.options.padding_between.value+"px)/"+d.options.logos.value.length+")":""),e.xp6(1),e.Q6J("ngIf",""!=i.img),e.xp6(1),e.Q6J("ngIf",""!=d.i18n.t(i.name))}}function r(o,p){if(1&o&&(e.TgZ(0,"div",3),e.YNc(1,t,3,4,"div",4),e.qZA()),2&o){const i=e.oxw();e.ekj("vertical",i.options.vertical.value),e.Q6J("ngClass",i.options.area.value),e.xp6(1),e.Q6J("ngForOf",i.options.logos.value)}}let f=(()=>{class o extends l.P{constructor(){super(...arguments),this.default_options=c}addObservableFunc(){this.observableFunc.width=i=>{this.onWidthChange(i)},this.observableFunc.margin=i=>this.onMarginChange(i),this.observableFunc.padding_between=i=>this.onPaddingBetweenChange(i)}onWidthChange(i){this.elRef.nativeElement.style.setProperty("--width",i+"%")}onMarginChange(i){this.elRef.nativeElement.style.setProperty("--margin",i+"px")}onPaddingBetweenChange(i){this.elRef.nativeElement.style.setProperty("--padding-between",i+"px")}initData(){this.addObservableFunc(),super.initData()}}return o.\u0275fac=function(){let p;return function(d){return(p||(p=e.n5z(o)))(d||o)}}(),o.\u0275cmp=e.Xpm({type:o,selectors:[["wdg-other-logo"]],features:[e.qOj],decls:2,vars:2,consts:[[3,"innerHTML",4,"ngIf"],["class","widget other",3,"vertical","ngClass",4,"ngIf"],[3,"innerHTML"],[1,"widget","other",3,"ngClass"],["class","item",3,"height",4,"ngFor","ngForOf"],[1,"item"],["alt","logo",3,"src",4,"ngIf"],["target","_blank","rel","noopener",3,"href",4,"ngIf"],["alt","logo",3,"src"],["target","_blank","rel","noopener",3,"href"]],template:function(i,d){1&i&&(e.YNc(0,u,2,4,"code",0),e.YNc(1,r,2,4,"div",1)),2&i&&(e.Q6J("ngIf",d.styles),e.xp6(1),e.Q6J("ngIf",d.widgetInit))},dependencies:[a.mk,a.sg,a.O5,s.y],styles:[".widget[_ngcontent-%COMP%]{position:absolute;z-index:2;overflow:hidden;display:flex;gap:var(--padding-between);margin:var(--margin)}.widget[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:1;position:relative}.widget[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block;width:100%;height:100%}.widget[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%}.widget[_ngcontent-%COMP%]:not(.vertical){width:var(--width)}.widget.vertical[_ngcontent-%COMP%]{flex-direction:column;height:var(--width)}.widget.bottom[_ngcontent-%COMP%], .widget.top[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);margin-left:initial;margin-right:initial}.widget.left[_ngcontent-%COMP%], .widget.right[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);margin-top:initial;margin-bottom:initial}.widget.top[_ngcontent-%COMP%], .widget.top-left[_ngcontent-%COMP%], .widget.top-right[_ngcontent-%COMP%]{top:0}.widget.bottom[_ngcontent-%COMP%], .widget.bottom-left[_ngcontent-%COMP%], .widget.bottom-right[_ngcontent-%COMP%]{bottom:0}.widget.bottom-right[_ngcontent-%COMP%], .widget.right[_ngcontent-%COMP%], .widget.top-right[_ngcontent-%COMP%]{right:0}.widget.bottom-left[_ngcontent-%COMP%], .widget.left[_ngcontent-%COMP%], .widget.top-left[_ngcontent-%COMP%]{left:0}code[_ngcontent-%COMP%]{display:none}"]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o,bootstrap:[f]}),o.\u0275inj=e.cJS({imports:[a.ez,h.D]}),o})()}}]);