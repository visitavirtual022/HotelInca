"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[654],{7072:(v,l,t)=>{t.d(l,{o:()=>c});var i=t(4537),p=t(4091),d=t(6101),s=t(7343),m=t(7493);class c{constructor(n){this.injector=n,this.elRef=this.injector.get(i.SBq),this.i18n=this.injector.get(d.T),this.fontsService=this.injector.get(p.C),this.panoService=this.injector.get(s.X),this.statsService=this.injector.get(m.G)}_updateFontStyle(n,r){!n||Object.keys(r).filter(e=>["family","align","size","line_height"].includes(e)).forEach(e=>{n[e]||(n[e]=r[e])})}}},7493:(v,l,t)=>{t.d(l,{G:()=>o});var i=t(4537),p=t(8692),d=t(5732),s=t(8066),m=t(5056),c=t(7343);let o=(()=>{class n{constructor(e,a,h,u,_){this.http=e,this.windowRef=a,this.viewerDataService=h,this.panoService=u,this.platformId=_,this.session_id=""}send(e){if((0,p.PM)(this.platformId)||this.viewerDataService.editor||!this.panoService.moderationUrl)return;this.session_id||(this.session_id=(Math.random().toString(36).slice(2)+Date.now().toString(36)).substr(0,16));let a=this._getStats();0!=a.host.indexOf("localhost")&&(null!=e.type&&(a.type=e.type),null!=e.plugin&&(a.plugin=e.plugin),null!=e.details&&(a.details=e.details),this.http.post("https://apiw.gothru.co/tours/stats",a).subscribe())}getWidget(e){let h=[{name:"Berlin Menu",component:"MenuHopenkeComponent"},{name:"Side Menu",component:"MenuKavftigComponent"},{name:"Top Menu",component:"MenuLekprogComponent"},{name:"Real Estate Menu",component:"MenuLoppitteComponent"},{name:"Berlin Map",component:"SchemeHopenkeComponent"},{name:"Floor Map",component:"SchemeKavftigComponent"},{name:"Mapbox",component:"SchemeGvesjodComponent"},{name:"Berlin Hotspot",component:"HotspotHopenkeComponent"},{name:"Hotspot",component:"HotspotKavftigComponent"},{name:"Pano link",component:"HotspotHolmlackComponent"},{name:"Berlin Control",component:"ControlHopenkeComponent"},{name:"Control Bar",component:"ControlKavftigComponent"},{name:"Real Estate Control",component:"ControlLoppitteComponent"},{name:"Carousel",component:"OtherCarouselComponent"},{name:"Language",component:"OtherLanguageComponent"},{name:"Logo",component:"OtherLogoComponent"},{name:"Code",component:"OtherCodeComponent"},{name:"Password",component:"OtherPasswordComponent"},{name:"Pano Label",component:"OtherTitleComponent"}].filter(u=>u.component==e).pop();return h?{name:h.name,key:h.name.toLowerCase().replace(" ","_")}:{name:"",key:""}}_getStats(){let e={ip:null,action:null,returning:null,user_type:null,time:null,m_key:null,user_id:this.panoService.user_id,session_id:this.session_id,browser:this.windowRef.nativeWindow.navigator.userAgent,height:this.windowRef.nativeWindow.innerHeight,language:this.windowRef.nativeWindow.navigator.language,location:this.windowRef.nativeWindow.location.href,moderation_id:this.viewerDataService.active.t_id,pano_id:this.viewerDataService.active.id,referer:document.referrer,site:this.panoService.moderationUrl.substr(2),local_time:Math.floor(Date.now()/1e3),width:this.windowRef.nativeWindow.innerWidth,device:null,host:null,tour_type:null,plugin:null,type:null,details:null};return this.panoService.googleApiKey&&(e.m_key=this.panoService.googleApiKey),e.device=this.windowRef.nativeWindow.innerWidth<600?"mobile":this.windowRef.nativeWindow.innerWidth>=600&&this.windowRef.nativeWindow.innerWidth<1e3?"tablet":"desktop",e.host=e.location.split("/")[2],e.tour_type=0==this.panoService.moderationUrl.indexOf("G")?"google":"hosted",e}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(d.eN),i.LFG(s.X),i.LFG(m.m),i.LFG(c.X),i.LFG(i.Lbi))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},9613:(v,l,t)=>{t.r(l),t.d(l,{OtherPasswordModule:()=>c});var i=t(8692),p=t(8041);const d=JSON.parse('{"widget":"OtherPasswordComponent","options":[{"key":"password","label":"Password","type":"simple-text","help":"","value":""},{"key":"password-label","label":"Label text","type":"simple-text","help":"Optional (default: Password)","value":""}]}');var s=t(4537);let m=(()=>{class o extends p.P{constructor(){super(...arguments),this.default_options=d}}return o.\u0275fac=function(){let n;return function(e){return(n||(n=s.n5z(o)))(e||o)}}(),o.\u0275cmp=s.Xpm({type:o,selectors:[["wdg-other-password"]],features:[s.qOj],decls:0,vars:0,template:function(r,e){},encapsulation:2}),o})(),c=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=s.oAB({type:o,bootstrap:[m]}),o.\u0275inj=s.cJS({imports:[i.ez]}),o})()}}]);