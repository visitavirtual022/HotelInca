"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[694],{694:(Ce,y,s)=>{s.r(y),s.d(y,{MenuLoppitteModule:()=>ue});var g=s(8692),f=s(9638),O=s(3577),T=s(6031),t=s(4537),E=s(5735);const L=JSON.parse('{"widget":"MenuLoppitteComponent","title":"","logo":"","contact_title":"","contact1":"","address1":"","pano":{"pano":{"id":0},"theta":null,"phi":null},"common_color":false,"recursive":false,"area":"left","areas":["left","right"],"hide_on_start":{"desktop":false,"tablet":true,"mobile":true},"styles":"","background":{"type":"native","color":"rgb(236, 239, 241)"},"active_color":{"type":"native","color":"rgb(50, 65, 71)"},"text_color":{"color":"rgb(20, 20, 20)"},"gallery_arr":[],"title_font":{"family":"Exo","align":"center","size":20,"line_height":24,"italic":false,"bold":false,"underline":false,"color":""},"contact_title_font":{"family":"Exo","align":"left","size":30,"line_height":50,"italic":false,"bold":false,"underline":false,"color":""},"contact1_font":{"family":"Exo","align":"left","size":16,"line_height":24,"italic":false,"bold":false,"underline":false,"color":""},"address1_font":{"family":"Exo","align":"left","size":16,"line_height":24,"italic":false,"bold":false,"underline":false,"color":""}}');var A=s(9743),_=s(9321),x=s(6883),C=s(7343),P=s(4091),b=s(6101),M=s(354);function S(n,i){if(1&n&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.menu.title[e.i18n.active]," ")}}function k(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"button",2),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.toggle())}),t._UZ(2,"sh-icon",3),t.qZA(),t.YNc(3,S,2,1,"h1",4),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("icon",e.icons[0]),t.xp6(1),t.Q6J("ngIf",e.menu.title)}}let I=(()=>{class n{constructor(e,o,l,r,a,c){this.menuService=e,this.controlService=o,this.panoService=l,this.fontsService=r,this.elRef=a,this.i18n=c,this.icons=[{prefix:"custom",iconName:"times",icon:[448,512,[],"f00d","M442 114H6a6 6 0 0 1-6-6V84a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6zm0 160H6a6 6 0 0 1-6-6v-24a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6zm0 160H6a6 6 0 0 1-6-6v-24a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6z"]}],this.observableFunc={active_color:m=>this.onActiveColorChange(m),text_color:m=>this.onTextColorChange(m),common_color:m=>this.onCommonColorChange(m),common_active_color:m=>this.onCommonActiveColorChange(m),common_text_color:m=>this.onCommonTextColorChange(m),title_font:m=>this.onTitleFontChange(m)}}toggle(){this.menuService.toggle(),"ControlLoppitteComponent"==this.controlService.control?.widget&&(this.controlService.show=!1)}onCommonActiveColorChange(e){this.elRef.nativeElement.style.setProperty("--active-color",this._backgroundStyle(e))}onCommonTextColorChange(e){this.elRef.nativeElement.style.setProperty("--text-color",e?e.color:null)}onActiveColorChange(e){this.elRef.nativeElement.style.setProperty("--active-color",this._backgroundStyle(e))}onTextColorChange(e){this.elRef.nativeElement.style.setProperty("--text-color",e?e.color:null)}onCommonColorChange(e){this.elRef.nativeElement.style.setProperty("--background",this._backgroundStyle(e?this.panoService.commonColor.background:this.menu.background)),this.elRef.nativeElement.style.setProperty("--active-color",this._backgroundStyle(e?this.panoService.commonColor.active_color:this.menu.active_color)),this.elRef.nativeElement.style.setProperty("--text-color",e?this.panoService.commonColor.text_color.color:this.menu.text_color.color)}onTitleFontChange(e){this._setFontStyle(e,"--title-style-")}_backgroundStyle(e){return e?"gradient"==e.type?"radial"!=e.align?"-webkit-linear-gradient("+e.align+", "+e.color+" 0%,"+e.color2+" 100%)":"radial-gradient(at center center, "+e.color+" 0%,"+e.color2+" 100%)":e.color:null}_setFontStyle(e,o){let l=this.fontsService.fontStyle(e);Object.entries(l).forEach(r=>{let a=o+r[0],c=!1;-1!=r[0].indexOf(".px")&&(c=!0,a=a.replace(".px","")),this.elRef.nativeElement.style.setProperty(a,r[1]?c?r[1]+"px":r[1]:null)})}initObs(){Object.keys(this.dataObs).forEach(e=>{this.dataObs[e].subscribe(o=>{this.observableFunc[e]&&this.observableFunc[e](o)})}),Object.keys(this.panoService.commonColorObs).forEach(e=>{this.panoService.commonColorObs[e].subscribe(o=>{this.observableFunc["common_"+e]&&this.menu.common_color&&this.observableFunc["common_"+e](o)})})}ngOnInit(){this.menu=this.menuService.menu,this.dataObs=this.menuService.dataObs,(0,g.NF)(this.panoService.platformId)&&this.initObs()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.h),t.Y36(x.B),t.Y36(C.X),t.Y36(P.C),t.Y36(t.SBq),t.Y36(b.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["wdg-menu-loppitte-header"]],decls:1,vars:1,consts:[["class","menu-header",4,"ngIf"],[1,"menu-header"],["mat-icon-button","","aria-label","toggle menu",3,"click"],[3,"icon"],[4,"ngIf"]],template:function(e,o){1&e&&t.YNc(0,k,4,2,"div",0),2&e&&t.Q6J("ngIf",o.menu)},dependencies:[g.O5,f.lW,M.o],styles:["[_nghost-%COMP%]{width:100%;height:46px;order:-1;--title-style-text-align: center;--title-style-font-size: 20px;--title-style-color: #fff}.menu-header[_ngcontent-%COMP%]{background-color:var(--active-color);display:flex;width:calc(100% - 40px);height:100%;padding:0 20px;align-items:center;color:var(--text-color)}.menu-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;display:none;color:var(--title-style-color)}.menu-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   sh-icon[_ngcontent-%COMP%]{width:20px;height:20px}.menu-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%;font-style:var(--title-style-font-style);font-weight:var(--title-style-font-weight);-webkit-text-decoration:var(--title-style-text-decoration);text-decoration:var(--title-style-text-decoration);font-size:var(--title-style-font-size);font-family:var(--title-style-font-family);color:var(--title-style-color);text-align:var(--title-style-text-align);line-height:var(--title-style-line-height);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  #overlay.mobile wdg-menu-loppitte-header .menu-header button,   #overlay.tablet wdg-menu-loppitte-header .menu-header button{display:block}"]}),n})();var Z=s(6797),u=s(2759),z=s(7393);class F{constructor(i,e){this.predicate=i,this.inclusive=e}call(i,e){return e.subscribe(new J(i,this.predicate,this.inclusive))}}class J extends z.L{constructor(i,e,o){super(i),this.predicate=e,this.inclusive=o,this.index=0}_next(i){const e=this.destination;let o;try{o=this.predicate(i,this.index++)}catch(l){return void e.error(l)}this.nextOrComplete(i,o)}nextOrComplete(i,e){const o=this.destination;Boolean(e)?o.next(i):(this.inclusive&&o.next(i),o.complete())}}var N=s(9773),Q=s(6782),R=s(3190),Y=s(5257),j=s(8066);const G=["slider"];function U(n,i){if(1&n&&(t.TgZ(0,"li",12),t._UZ(1,"img",13),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("src",o.resizeImg(e.img),t.LSH),t.uIk("alt",o.i18n.t(e.name))}}function B(n,i){if(1&n&&(t.ynx(0),t.YNc(1,U,2,2,"li",11),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.menu.gallery_arr)}}function W(n,i){if(1&n&&(t.TgZ(0,"ul",8,9),t.YNc(2,B,2,1,"ng-container",10),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.sliderReady)}}function $(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"button",2),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.galleryClose())}),t._UZ(2,"sh-icon",3),t.qZA(),t.TgZ(3,"div",4),t.YNc(4,W,3,1,"ul",5),t.TgZ(5,"div",6)(6,"button",7),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.playing?l.stop():l.play())}),t._UZ(7,"sh-icon",3),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("icon",e.icons[0]),t.xp6(2),t.Q6J("ngIf",null==e.menu.gallery_arr?null:e.menu.gallery_arr.length),t.xp6(3),t.Q6J("icon",e.playing?e.icons[2]:e.icons[1])}}let D=(()=>{class n{constructor(e,o,l,r,a){this.menuService=e,this.panoService=o,this.windowRef=l,this.elRef=r,this.i18n=a,this.icons=[{prefix:"fal",iconName:"times",icon:[320,512,[],"f00d","M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"]},{prefix:"fas",iconName:"play",icon:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"]},{prefix:"fas",iconName:"stop",icon:[448,512,[],"f04d","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"]}],this.sliderReady=!1,this.scrollAnimateAvailable=!1,this.verticalObj=!1,this.observableFunc={background:c=>this.onBackgroundChange(c),active_color:c=>this.onActiveColorChange(c),text_color:c=>this.onTextColorChange(c),common_color:c=>this.onCommonColorChange(c),common_background:c=>this.onCommonBackgroundChange(c),common_active_color:c=>this.onCommonActiveColorChange(c),common_text_color:c=>this.onCommonTextColorChange(c)}}galleryClose(){this.menuService.galeryActiveIndex=null}play(){this.playing||(this.playing=this.windowRef.nativeWindow.setInterval(()=>{this.next()},5e3))}stop(){this.playing&&(clearInterval(this.playing),this.playing=null)}animateScrollTo(e){this.scrollAnimateAvailable=!0,(0,Z.H)(0,20).pipe(function H(n,i=!1){return e=>e.lift(new F(n,i))}(()=>this.scrollAnimateAvailable)).subscribe(o=>{this.verticalObj?this.slider.nativeElement.scrollTop>=e?this.slider.nativeElement.scrollTop-o>=e?this.slider.nativeElement.scrollTop-=o:(this.stopAnimation(),this.slider.nativeElement.scrollTop=e):this.slider.nativeElement.scrollTop<=e&&(this.slider.nativeElement.scrollTop+o<=e?this.slider.nativeElement.scrollTop+=o:(this.stopAnimation(),this.slider.nativeElement.scrollTop=e)):this.slider.nativeElement.scrollLeft>=e?this.slider.nativeElement.scrollLeft-o>=e?this.slider.nativeElement.scrollLeft-=o:(this.stopAnimation(),this.slider.nativeElement.scrollLeft=e):this.slider.nativeElement.scrollLeft<=e&&(this.slider.nativeElement.scrollLeft+o<=e?this.slider.nativeElement.scrollLeft+=o:(this.stopAnimation(),this.slider.nativeElement.scrollLeft=e))})}stopAnimation(){this.scrollAnimateAvailable=!1,this.menuService.galeryActiveIndex=Math.round(this.slider.nativeElement.scrollLeft/this.slider.nativeElement.offsetWidth)}next(e=!1){this.scrollAnimateAvailable=!1;let l=Array.from(this.slider.nativeElement.getElementsByTagName("LI")).pop(),r=this.verticalObj?l.offsetTop+l.offsetHeight-this.slider.nativeElement.offsetHeight:l.offsetLeft+l.offsetWidth-this.slider.nativeElement.offsetWidth,a=this.verticalObj?this.slider.nativeElement.scrollTop+l.offsetHeight:this.slider.nativeElement.scrollLeft+l.offsetWidth;if(a>r&&(a=r),this.slider.nativeElement.scrollLeft>=this.slider.nativeElement.scrollWidth-this.slider.nativeElement.offsetWidth-20&&!e)a=0;else if(this.slider.nativeElement.scrollLeft>=this.slider.nativeElement.scrollWidth-this.slider.nativeElement.offsetWidth-20&&e)return void(this.scrollAnimateAvailable=!0);this.animateScrollTo(a)}prev(e=!1){this.scrollAnimateAvailable=!1;let l=Array.from(this.slider.nativeElement.getElementsByTagName("LI")).pop(),a=this.verticalObj?this.slider.nativeElement.scrollTop+l.offsetHeight:this.slider.nativeElement.scrollLeft-l.offsetWidth;if(a<0&&!e)a=this.verticalObj?l.offsetTop+l.offsetHeight-this.slider.nativeElement.offsetHeight:l.offsetLeft+l.offsetWidth-this.slider.nativeElement.offsetWidth;else if(a<0&&e)return void(this.scrollAnimateAvailable=!0);this.animateScrollTo(a)}initSlider(){let e,o;const a=(h,v)=>{if(o=!1,this.slider.nativeElement.style.cursor="grab",v&&v>0||(this.verticalObj?null!=e&&this.slider.nativeElement.scrollTop>e:null!=e&&this.slider.nativeElement.scrollLeft>e)){let p;p=this.verticalObj?Array.from(this.slider.nativeElement.getElementsByTagName("LI")).filter(d=>d.offsetTop+3*d.offsetHeight/2>this.slider.nativeElement.scrollTop+this.slider.nativeElement.offsetHeight).shift():Array.from(this.slider.nativeElement.getElementsByTagName("LI")).filter(d=>d.offsetLeft+3*d.offsetWidth/2>this.slider.nativeElement.scrollLeft+this.slider.nativeElement.offsetWidth).shift(),p?this.animateScrollTo(this.verticalObj?p.offsetTop+p.offsetHeight-this.slider.nativeElement.offsetHeight:p.offsetLeft+p.offsetWidth-this.slider.nativeElement.offsetWidth):this.scrollAnimateAvailable=!1,e=null}else if(v&&v<0||(this.verticalObj?null!=e&&this.slider.nativeElement.scrollTop<e:null!=e&&this.slider.nativeElement.scrollLeft<e)){let p;p=this.verticalObj?Array.from(this.slider.nativeElement.getElementsByTagName("LI")).filter(d=>d.offsetTop+d.offsetHeight/2>this.slider.nativeElement.scrollTop).shift():Array.from(this.slider.nativeElement.getElementsByTagName("LI")).filter(d=>d.offsetLeft+d.offsetWidth/2>this.slider.nativeElement.scrollLeft).shift(),p?this.animateScrollTo(this.verticalObj?p.offsetTop:p.offsetLeft):this.scrollAnimateAvailable=!1,e=null}},m=(0,u.R)(this.slider.nativeElement,"mousedown"),ve=(0,u.R)(document,"mousemove"),w=(0,u.R)(document,"mouseup"),ye=(0,u.R)(this.slider.nativeElement,"wheel",{passive:!0}),_e=m.pipe((0,N.zg)(()=>ve.pipe((0,Q.R)(w)))),xe=m.pipe((0,R.w)(()=>w.pipe((0,Y.q)(1))));this.mouseDown=m.subscribe(h=>{1==h.buttons&&(this.stop(),this.scrollAnimateAvailable=!1,this.slider.nativeElement.style.cursor="grabbing",e=this.verticalObj?this.slider.nativeElement.scrollTop:this.slider.nativeElement.scrollLeft,o=!0)}),this.mouseMove=_e.subscribe(h=>{o&&(this.stop(),this.verticalObj?this.slider.nativeElement.scrollTop-=h.movementY:this.slider.nativeElement.scrollLeft-=h.movementX)}),this.mouseUp=xe.subscribe(a),this.mouseScroll=ye.subscribe(h=>{this.stop(),this.scrollAnimateAvailable=!1,this.verticalObj?h.deltaY>=-1&&h.deltaY<=1&&!this.scrollAnimateAvailable&&(this.scrollAnimateAvailable=!0,setTimeout(()=>{a(0,h.deltaY)},1e3)):h.deltaX>=-1&&h.deltaX<=1&&!this.scrollAnimateAvailable&&(this.scrollAnimateAvailable=!0,setTimeout(()=>{a(0,h.deltaX)},1e3))}),setTimeout(()=>{this.sliderReady=!0})}handleKeyboardEvent(e){"ArrowLeft"===e.key?this.prev(!0):"ArrowRight"===e.key&&this.next(!0)}indexChange(e){this.slider.nativeElement.scrollLeft=this.slider.nativeElement.offsetWidth*e}resizeImg(e){return-1===e.indexOf(".gif")?`${e}&resize=${Math.round(1.5*this.slider.nativeElement.offsetWidth)}x${Math.round(1.5*this.slider.nativeElement.offsetHeight)}`:e}onCommonBackgroundChange(e){this.elRef.nativeElement.style.setProperty("--background",this._backgroundStyle(e))}onCommonActiveColorChange(e){this.elRef.nativeElement.style.setProperty("--active-color",this._backgroundStyle(e))}onCommonTextColorChange(e){this.elRef.nativeElement.style.setProperty("--text-color",e?e.color:null)}onBackgroundChange(e){this.elRef.nativeElement.style.setProperty("--background",this._backgroundStyle(e))}onActiveColorChange(e){this.elRef.nativeElement.style.setProperty("--active-color",this._backgroundStyle(e))}onTextColorChange(e){this.elRef.nativeElement.style.setProperty("--text-color",e?e.color:null)}onCommonColorChange(e){this.elRef.nativeElement.style.setProperty("--background",this._backgroundStyle(e?this.panoService.commonColor.background:this.menu.background)),this.elRef.nativeElement.style.setProperty("--active-color",this._backgroundStyle(e?this.panoService.commonColor.active_color:this.menu.active_color)),this.elRef.nativeElement.style.setProperty("--text-color",e?this.panoService.commonColor.text_color.color:this.menu.text_color.color)}_backgroundStyle(e){return e?"gradient"==e.type?"radial"!=e.align?"-webkit-linear-gradient("+e.align+", "+e.color+" 0%,"+e.color2+" 100%)":"radial-gradient(at center center, "+e.color+" 0%,"+e.color2+" 100%)":e.color:null}initObs(){Object.keys(this.dataObs).forEach(e=>{this.dataObs[e].subscribe(o=>{this.observableFunc[e]&&this.observableFunc[e](o)})}),Object.keys(this.panoService.commonColorObs).forEach(e=>{this.panoService.commonColorObs[e].subscribe(o=>{this.observableFunc["common_"+e]&&this.menu.common_color&&this.observableFunc["common_"+e](o)})})}ngOnInit(){this.menu=this.menuService.menu,this.dataObs=this.menuService.dataObs,this.initObs(),setTimeout(()=>{this.menuService.show=!1})}ngAfterViewInit(){this.initSlider()}ngOnDestroy(){this.mouseDown&&this.mouseDown.unsubscribe(),this.mouseMove&&this.mouseMove.unsubscribe(),this.mouseUp&&this.mouseUp.unsubscribe(),this.mouseScroll&&this.mouseScroll.unsubscribe(),this.stop()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.h),t.Y36(C.X),t.Y36(j.X),t.Y36(t.SBq),t.Y36(b.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["wdg-menu-loppitte-gallery"]],viewQuery:function(e,o){if(1&e&&t.Gf(G,5,t.SBq),2&e){let l;t.iGM(l=t.CRH())&&(o.slider=l.first)}},hostBindings:function(e,o){1&e&&t.NdJ("keydown",function(r){return o.handleKeyboardEvent(r)},!1,t.evT)},decls:1,vars:1,consts:[["class","gallery",4,"ngIf"],[1,"gallery"],["mat-icon-button","","aria-label","close gallery",1,"close",3,"click"],[3,"icon"],[1,"gallery-wrapper"],["class","gallery-slider",4,"ngIf"],[1,"control"],["mat-button","","aria-label","play gallery",1,"play",3,"click"],[1,"gallery-slider"],["slider",""],[4,"ngIf"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"gallery-item"],["loading","lazy",3,"src"]],template:function(e,o){1&e&&t.YNc(0,$,8,3,"div",0),2&e&&t.Q6J("ngIf",o.menu)},dependencies:[g.sg,g.O5,f.lW,M.o],styles:[".gallery[_ngcontent-%COMP%]{background-color:#000;position:absolute;width:100%;height:100%;z-index:9;top:0;left:0;color:var(--text-color)}.gallery[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:2;color:inherit;border-radius:3px}.gallery[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]   sh-icon[_ngcontent-%COMP%]{width:20px;height:20px}.gallery[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--background);padding:0;width:44px;height:36px;color:inherit;outline:0;cursor:pointer;border:none;box-shadow:0 4px 5px #00000024,0 1px 10px #0000001f,0 2px 4px -1px #0000004d;position:relative;display:flex;align-items:center;justify-content:center;border-radius:3px}.gallery[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{border-radius:3px;position:absolute;left:50%;bottom:30px;transform:translate(-50%);z-index:5;display:flex}.gallery[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.gallery[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]   .gallery-slider[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;height:100%;display:flex;overflow-x:auto;-webkit-user-select:none;user-select:none}.gallery[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]   .gallery-slider[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.gallery[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]   .gallery-slider[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex:1 0 100%;max-width:100%;max-height:100%}.gallery[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]   .gallery-slider[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;max-width:100%;max-height:100%;pointer-events:none}"]}),n})();var X=s(4453),V=s(7493);let K=(()=>{class n{constructor(e,o,l,r){this.overlayContentService=e,this.controlService=o,this.statsService=l,this._componentFactoryResolver=r}loadComponent(e,o){const l=this._componentFactoryResolver.resolveComponentFactory(o),r=e.createComponent(l);return r.changeDetectorRef.detectChanges(),r}createHeader(){this.header||(this.header=this.loadComponent(this.overlayContentService.overlayChildren,I))}destroyHeader(){this.header&&(this.header.destroy(),this.header=null)}createGallery(){this.gallery||(this.gallery=this.loadComponent(this.overlayContentService.viewerChildren,D))}destroyGallery(){this.gallery&&(this.gallery.destroy(),this.gallery=null)}indexChange(){if(this.controlService.control&&"ControlLoppitteComponent"==this.controlService.control.widget&&(this.controlService.show=!1),setTimeout(()=>{this.gallery&&this.gallery.instance.indexChange(this.galleryActive)}),null!=this.galleryActive){let e=this.statsService.getWidget("MenuLoppitteComponent");this.statsService.send({plugin:e.name,type:e.key,details:this.galleryActive})}}ngOnChanges(e){void 0!==e.galleryActive&&(null!=this.galleryActive||null!=this.galleryActive?this.createGallery():this.destroyGallery(),this.indexChange())}ngAfterViewInit(){this.createHeader()}ngOnDestroy(){this.destroyHeader(),this.destroyGallery()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(X.x),t.Y36(x.B),t.Y36(V.G),t.Y36(t._Vd))},n.\u0275cmp=t.Xpm({type:n,selectors:[["wdg-menu-loppitte-actions"]],inputs:{galleryActive:"galleryActive"},features:[t.TTD],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();var q=s(7239);const ee=["widget"];function te(n,i){if(1&n&&(t._UZ(0,"code",2),t.ALo(1,"safe")),2&n){const e=t.oxw();t.Q6J("innerHTML",t.xi3(1,1,e.styles,"html"),t.oJD)}}function ne(n,i){if(1&n&&t._UZ(0,"img",12),2&n){const e=t.oxw(3);t.Q6J("src",e.menu.logo,t.LSH)}}function oe(n,i){if(1&n&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.i18n.t(e.menu.contact_title)," ")}}function ie(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.i18n.t(e.menu.contact1)," ")}}function le(n,i){if(1&n&&(t.TgZ(0,"div",10),t.YNc(1,ne,1,1,"img",11),t.YNc(2,oe,2,1,"h3",7),t.YNc(3,ie,2,1,"p",7),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.menu.logo),t.xp6(1),t.Q6J("ngIf",e.i18n.t(e.menu.contact_title)),t.xp6(1),t.Q6J("ngIf",e.i18n.t(e.menu.contact1))}}function se(n,i){if(1&n&&t._UZ(0,"sh-mapbox",15),2&n){const e=t.oxw(3);t.Q6J("panoramas",e.menu.panoramas)("markers-count",null==e.menu.panoramas?null:e.menu.panoramas.length)("active",e.activePano.id)("angle",e.angle)("marker-weight",12)("marker-color","rgb(0,153,255)")("marker-active-color","rgb(255,77,0)")("link-active",!0)("link-weight",2)("link-color","rgb(92,107,117)")("zoom",20)}}function re(n,i){if(1&n&&(t.TgZ(0,"div",13),t.YNc(1,se,1,11,"sh-mapbox",14),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",(null==e.menu.panoramas?null:e.menu.panoramas.length)&&e.activePano.id)}}function ae(n,i){if(1&n){const e=t.EpF();t.ynx(0),t._UZ(1,"hr"),t.TgZ(2,"button",16),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.panoClick(l.menu.pano))}),t._UZ(3,"img",17),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("src",e.panoImage,t.LSH)}}function ce(n,i){if(1&n&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.Oqu(o.i18n.t(e.name))}}function me(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){const r=t.CHM(e).index,a=t.oxw(3);return t.KtG(a.changeGaleryIndex(r))}),t._UZ(1,"img",21),t.YNc(2,ce,2,1,"span",22),t.qZA()}if(2&n){const e=i.$implicit,o=i.index,l=t.oxw(3);t.ekj("active",l.galeryActiveIndex==o),t.xp6(1),t.Q6J("src",l.resizeImg(e.img,"150x"),t.LSH),t.uIk("alt",l.i18n.t(e.name)),t.xp6(1),t.Q6J("ngIf",l.i18n.t(e.name))}}function he(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"hr"),t.TgZ(2,"h3"),t._uU(3,"Photo Gallery"),t.qZA(),t.TgZ(4,"div",18),t.YNc(5,me,3,5,"button",19),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.menu.gallery_arr)}}function pe(n,i){if(1&n&&(t.TgZ(0,"div",24)(1,"p"),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.i18n.t(e.menu.address1)," ")}}function de(n,i){if(1&n&&(t.TgZ(0,"div",3,4),t.YNc(2,le,4,3,"div",5),t.YNc(3,re,2,1,"div",6),t.YNc(4,ae,4,1,"ng-container",7),t.YNc(5,he,6,1,"ng-container",7),t.YNc(6,pe,3,1,"div",8),t._UZ(7,"wdg-menu-loppitte-actions",9),t.qZA()),2&n){const e=t.oxw();t.ekj("show",e.show),t.Q6J("ngClass",e.menu.area),t.xp6(2),t.Q6J("ngIf",!e.mapbox_active),t.xp6(1),t.Q6J("ngIf",e.mapbox_active),t.xp6(1),t.Q6J("ngIf",e.panoImage),t.xp6(1),t.Q6J("ngIf",(null==e.menu.gallery_arr?null:e.menu.gallery_arr.length)>0),t.xp6(1),t.Q6J("ngIf",e.i18n.t(e.menu.address1)),t.xp6(1),t.Q6J("galleryActive",e.galeryActiveIndex)}}let ge=(()=>{class n extends E.M{constructor(){super(...arguments),this.default_options=L,this.mapbox_active=!1}panoClick(e){e.pano.id&&this.viewerService.goToPano(e.pano.id,e),this.menuService.galeryActiveIndex=null,this.menuService.show=!1}panoImg(e){if(!e)return;if(!this.panoService.moderationUrl&&!this.viewerService.editor)return`./assets/panoramas/${e.pano.id}/thumb.jpg`;let o=this.panoService.getPanoById(e.pano.id);if(o)return this._zoomUrl(e,o.url);this.viewerService.viewerService.loadPano(e.pano.id).then(l=>{this.panoImage=this._zoomUrl(e,l.url)})}_zoomUrl(e,o){let l=e.pano.id,r=o.split("?")[0],a=parseInt(o.split("?")[1].replace("pad=bg:","")),c=Math.round(e.theta||0);return`https://img.gothru.org/pano_zoom.php?p=${l}&i=${r}&w=300&h=200&a=40&t=${Math.round(e.phi||0)}&y=${c}&v=${a}`}onPanoChange(e){e||(this.menu.pano=e={pano:{id:0},theta:null,phi:null}),e.pano.id&&(this.panoImage=this.panoImg(e))}get galeryActiveIndex(){return this.menuService.galeryActiveIndex}resizeImg(e,o){return`${e.split("?")[0]}?resize=${o}&${e.split("?")[1]}`}changeGaleryIndex(e){this.menuService.galeryActiveIndex=e}onAreaChange(e){this.wdgOrder="right"==e?9:1}ngOnInit(){this.menuService.show=!1,this.mapbox_active=-1!=["F2","G2","K2"].indexOf(this.panoService.keyStarts||""),super.ngOnInit()}ngAfterViewInit(){(0,g.NF)(this.panoService.platformId)&&this.menuService.waitUntil(()=>this.viewerService.viewer&&this.widgetElm&&this.widgetElm.nativeElement.offsetWidth).then(()=>{this.viewerService.viewer._updateSizeListener()}),this.menu&&!this.menu.panoramas&&(this.menu.panoramas=this.panoService.panoramas.map(e=>({id:e.id,latlong:e.latlong,links:e.links.map(o=>o.id)})))}ngOnDestroy(){(0,g.NF)(this.panoService.platformId)&&this.viewerService.viewer._updateSizeListener()}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["wdg-menu-loppitte"]],viewQuery:function(e,o){if(1&e&&t.Gf(ee,5,t.SBq),2&e){let l;t.iGM(l=t.CRH())&&(o.widgetElm=l.first)}},hostVars:2,hostBindings:function(e,o){2&e&&t.Udp("order",o.wdgOrder)},features:[t.qOj],decls:2,vars:2,consts:[[3,"innerHTML",4,"ngIf"],["class","widget menu scrollbar",3,"ngClass","show",4,"ngIf"],[3,"innerHTML"],[1,"widget","menu","scrollbar",3,"ngClass"],["widget",""],["class","agent-info",4,"ngIf"],["class","mapbox",4,"ngIf"],[4,"ngIf"],["class","address",4,"ngIf"],[3,"galleryActive"],[1,"agent-info"],["alt","logo",3,"src",4,"ngIf"],["alt","logo",3,"src"],[1,"mapbox"],[3,"panoramas","markers-count","active","angle","marker-weight","marker-color","marker-active-color","link-active","link-weight","link-color","zoom",4,"ngIf"],[3,"panoramas","markers-count","active","angle","marker-weight","marker-color","marker-active-color","link-active","link-weight","link-color","zoom"],["mat-button","",1,"panorama",3,"click"],["alt","panorama",3,"src"],[1,"gallery"],["mat-button","",3,"active","click",4,"ngFor","ngForOf"],["mat-button","",3,"click"],[3,"src"],["class","title",4,"ngIf"],[1,"title"],[1,"address"]],template:function(e,o){1&e&&(t.YNc(0,te,2,4,"code",0),t.YNc(1,de,8,9,"div",1)),2&e&&(t.Q6J("ngIf",o.styles),t.xp6(1),t.Q6J("ngIf",o.widgetInit&&o.menu))},dependencies:[g.mk,g.sg,g.O5,A.t,f.lW,K,q.y],styles:['code[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]{--title-style-font-size: 2em;--contact-title-style-font-size: 30px;--pano-title-style-font-size: 1.2em;--contact-title-style-line-height: 50px;display:block;height:calc(100% - 46px);order:1;z-index:10}.menu[_ngcontent-%COMP%]{color:var(--text-color);background:var(--background);width:300px;min-width:300px;box-sizing:border-box;padding:15px;height:100%;box-shadow:1em 2.5rem 1em -1em #0003}.menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.menu[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-line}.menu[_ngcontent-%COMP%]   .mapbox[_ngcontent-%COMP%]{height:200px}.menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0}.menu[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}.menu[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]:first-child{margin-right:15px}.menu[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:0;overflow:hidden;border-radius:7px;flex:0 0 calc(50% - 8px);padding-top:calc(50% - 8px);position:relative}.menu[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;object-fit:cover;width:100%;height:100%}.menu[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{white-space:normal;background-color:#00000080;color:#fff;position:absolute;overflow:hidden;bottom:0;left:0;width:100%}.menu[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{background:var(--active-color)}.agent-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5%;object-fit:cover;object-position:top;max-height:227.5px}.agent-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:var(--contact-style-font-style);font-weight:var(--contact-style-font-weight);-webkit-text-decoration:var(--contact-style-text-decoration);text-decoration:var(--contact-style-text-decoration);font-size:var(--contact-style-font-size);font-family:var(--contact-style-font-family);color:var(--contact-style-color);text-align:var(--contact-style-text-align);line-height:var(--contact-style-line-height)}h3[_ngcontent-%COMP%]{font-style:var(--contact-title-style-font-style);font-weight:var(--contact-title-style-font-weight);-webkit-text-decoration:var(--contact-title-style-text-decoration);text-decoration:var(--contact-title-style-text-decoration);font-size:var(--contact-title-style-font-size);font-family:var(--contact-title-style-font-family);color:var(--contact-title-style-color);text-align:var(--contact-title-style-text-align);line-height:var(--contact-title-style-line-height);margin:0}.panorama[_ngcontent-%COMP%]{width:100%;border-radius:7px;overflow:hidden;font-family:inherit}.panorama[_ngcontent-%COMP%]:before{content:"360 Virtual Tour";background-color:#00000080;position:absolute;width:100%;text-align:center;line-height:20px;color:#fff}.panorama[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:127.5px;object-fit:cover}.address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:var(--address-style-font-style);font-weight:var(--address-style-font-weight);-webkit-text-decoration:var(--address-style-text-decoration);text-decoration:var(--address-style-text-decoration);font-size:var(--address-style-font-size);font-family:var(--address-style-font-family);color:var(--address-style-color);text-align:var(--address-style-text-align);line-height:var(--address-style-line-height)}  #overlay.mobile wdg-menu-loppitte,   #overlay.tablet wdg-menu-loppitte{width:.1px}  #overlay.mobile wdg-menu-loppitte .menu,   #overlay.tablet wdg-menu-loppitte .menu{transition:transform .3s ease-in;transform:translate(-100%)}  #overlay.mobile wdg-menu-loppitte .menu.show,   #overlay.tablet wdg-menu-loppitte .menu.show{width:300px;transform:translate(0)}']}),n})();var fe=s(4507);let ue=(()=>{class n{constructor(e){this.componentFactoryResolver=e}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(ge)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t._Vd))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,O.b,f.ot,T.Q,fe.D]}),n})()}}]);