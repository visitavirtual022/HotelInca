"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[866],{7072:(_,d,n)=>{n.d(d,{o:()=>u});var r=n(8692),p=n(4537),s=n(4091),l=n(6101),h=n(7343),t=n(7493);class u{constructor(c){if(this.injector=c,this.isMobile=!1,this.observableFunc={},this.elRef=this.injector.get(p.SBq),this.i18n=this.injector.get(l.T),this.fontsService=this.injector.get(s.C),this.panoService=this.injector.get(h.X),this.statsService=this.injector.get(t.G),(0,r.NF)(this.panoService.platformId)){const o=navigator.userAgent.toLowerCase();this.isMobile=-1!==o.indexOf("mobile")||-1!==o.indexOf("android")}}_updateFontStyle(c,o){!c||Object.keys(o).filter(a=>["family","align","size","line_height"].includes(a)).forEach(a=>{c[a]||(c[a]=o[a])})}setFontStyle(c,o){this.fontsService.setFontStyle(this.elRef,c,o)}setStyleProperties(c){Object.entries(c).forEach(o=>{this.elRef.nativeElement.style.setProperty(o[0],o[1])})}}},4507:(_,d,n)=>{n.d(d,{D:()=>p});var r=n(4537);let p=(()=>{class s{}return s.\u0275fac=function(h){return new(h||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({}),s})()},7239:(_,d,n)=>{n.d(d,{y:()=>s});var r=n(4537),p=n(5998);let s=(()=>{class l{constructor(t){this.sanitizer=t}transform(t,u){switch(u){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`Invalid safe type specified: ${u}`)}}}return l.\u0275fac=function(t){return new(t||l)(r.Y36(p.H7,16))},l.\u0275pipe=r.Yjl({name:"safe",type:l,pure:!0}),l})()},7493:(_,d,n)=>{n.d(d,{G:()=>u});var r=n(4537),p=n(8692),s=n(5732),l=n(8066),h=n(5056),t=n(7343);let u=(()=>{class g{constructor(o,a,f,y,b){this.http=o,this.windowRef=a,this.viewerDataService=f,this.panoService=y,this.platformId=b,this.session_id=""}send(o){if((0,p.PM)(this.platformId)||this.viewerDataService.editor||!this.panoService.moderationUrl)return;this.session_id||(this.session_id=window.crypto.randomUUID());let a=this._getStats();0!=a.host.indexOf("localhost")&&(null!=o.type&&(a.type=o.type),null!=o.plugin&&(a.plugin=o.plugin),null!=o.details&&(a.details=o.details),this.http.post("https://apiw.gothru.co/tours/stats",a).subscribe())}getWidget(o){let f=[{name:"Berlin Menu",component:"MenuHopenkeComponent"},{name:"Side Menu",component:"MenuKavftigComponent"},{name:"Top Menu",component:"MenuLekprogComponent"},{name:"Real Estate Menu",component:"MenuLoppitteComponent"},{name:"Berlin Map",component:"SchemeHopenkeComponent"},{name:"Floor Map",component:"SchemeKavftigComponent"},{name:"Mapbox",component:"SchemeGvesjodComponent"},{name:"Berlin Hotspot",component:"HotspotHopenkeComponent"},{name:"Hotspot",component:"HotspotKavftigComponent"},{name:"Pano link",component:"HotspotHolmlackComponent"},{name:"Berlin Control",component:"ControlHopenkeComponent"},{name:"Control Bar",component:"ControlKavftigComponent"},{name:"Real Estate Control",component:"ControlLoppitteComponent"},{name:"Carousel",component:"OtherCarouselComponent"},{name:"Language",component:"OtherLanguageComponent"},{name:"Logo",component:"OtherLogoComponent"},{name:"Code",component:"OtherCodeComponent"},{name:"Password",component:"OtherPasswordComponent"},{name:"Pano Label",component:"OtherTitleComponent"}].filter(y=>y.component==o).pop();return f?{name:f.name,key:f.name.toLowerCase().replace(" ","_")}:{name:"",key:""}}_getStats(){let o={ip:null,action:null,returning:null,user_type:null,time:null,m_key:null,user_id:this.panoService.user_id,session_id:this.session_id,browser:this.windowRef.nativeWindow.navigator.userAgent,height:this.windowRef.nativeWindow.innerHeight,language:this.windowRef.nativeWindow.navigator.language,location:this.windowRef.nativeWindow.location.href,moderation_id:this.viewerDataService.active.t_id,pano_id:this.viewerDataService.active.id,referer:document.referrer,site:this.panoService.moderationUrl.substr(2),local_time:Math.floor(Date.now()/1e3),width:this.windowRef.nativeWindow.innerWidth,device:null,host:null,tour_type:null,plugin:null,type:null,details:null};return this.panoService.googleApiKey&&(o.m_key=this.panoService.googleApiKey),o.device=this.windowRef.nativeWindow.innerWidth<600?"mobile":this.windowRef.nativeWindow.innerWidth>=600&&this.windowRef.nativeWindow.innerWidth<1e3?"tablet":"desktop",o.host=o.location.split("/")[2],o.tour_type=0==this.panoService.moderationUrl.indexOf("G")?"google":"hosted",o}}return g.\u0275fac=function(o){return new(o||g)(r.LFG(s.eN),r.LFG(l.X),r.LFG(h.m),r.LFG(t.X),r.LFG(r.Lbi))},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},2500:(_,d,n)=>{n.r(d),n.d(d,{OtherTitleModule:()=>b});var r=n(8692),p=n(4507),s=n(8041),l=n(9911);const h=JSON.parse('{"widget":"OtherTitleComponent","options":[{"key":"show","label":"Show","type":"toggle","category":"appearance","order":1,"value":true},{"key":"list","label":"Pano list","type":"liste","category":"content","recursive":false,"icons":false,"links":false,"uniq":true,"pano_url":true,"drone":true,"font":{"family":"Exo","align":"left","size":30,"line_height":45,"italic":false,"bold":false,"underline":false,"color":""},"value":[]},{"key":"width","label":"Width","type":"slider","category":"appearance","clear":true,"help":"%","value":""},{"key":"margin","label":"Margin","type":"slider","category":"appearance","help":"px","value":10},{"key":"border","label":"Border","type":"slider","category":"appearance","help":"px","value":15},{"key":"border-radius","label":"Border radius","type":"border-radius","category":"appearance","help":"px","value":{"topLeft":0,"topRight":0,"bottomLeft":0,"bottomRight":0}},{"key":"shadow","label":"Shadow","type":"shadow","category":"appearance","value":""},{"key":"area","label":"Area","type":"area","category":"appearance","order":3,"areas":["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"],"value":"top-left"},{"key":"colors","type":"color-bundle","category":"colors","value":{"common_color":false,"background":{"type":"native","color":"rgb(255,255,255)"},"text_color":{"color":"rgb(92,107,117)"}}},{"key":"tooltip_show","label":"Arrow text","type":"toggle","category":"appearance","order":2,"value":true},{"key":"tooltip_background","label":"Arrow text background","type":"color","category":"colors","value":{"color":"rgba(0,0,0,0.5)"}},{"key":"tooltip_color","label":"Arrow text color","type":"color","category":"colors","value":{"color":"rgb(255,255,255)"}},{"key":"styles","label":"Styles","type":"css","category":"styles","value":""}]}');var t=n(4537),u=n(2001),g=n(7239);function c(i,m){if(1&i&&(t._UZ(0,"code",2),t.ALo(1,"safe")),2&i){const e=t.oxw();t.Q6J("innerHTML",t.xi3(1,1,e.styles,"html"),t.oJD)}}function o(i,m){if(1&i&&(t.TgZ(0,"a",5),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("href",e.i18n.t(e.title.href),t.LSH),t.xp6(1),t.Oqu(e.i18n.t(e.title.name))}}const a=function(i,m){return[i,m]};function f(i,m){if(1&i&&(t.TgZ(0,"div",3),t.YNc(1,o,2,2,"a",4),t._uU(2),t.qZA()),2&i){const e=t.oxw();t.Q6J("ngClass",t.WLB(3,a,e.options.area.value,e.options.shadow.value)),t.xp6(1),t.Q6J("ngIf",e.title.href&&e.i18n.t(e.title.href)),t.xp6(1),t.hij(" ",e.title.href&&e.i18n.t(e.title.href)?"":e.i18n.t(e.title.name),"\n")}}let y=(()=>{class i extends s.P{constructor(e,v){super(e),this.viewerService=v,this.default_options=h}get title(){return this.options.list.value.filter(e=>e.pano.id===this.viewerService.active.id).pop()}addObservableFunc(){this.observableFunc.width=e=>{this.onWidthChange(e)},this.observableFunc.margin=e=>{this.onMarginChange(e)},this.observableFunc.border=e=>{this.onBorderChange(e)},this.observableFunc.border_radius=e=>{this.onBorderRadiusChange(e)},this.observableFunc.tooltip_background=e=>{this.onTooltipBackgroundChange(e)},this.observableFunc.tooltip_color=e=>{this.onTooltipColorChange(e)},this.observableFunc.list_font=e=>this.onListFontChange(e)}onWidthChange(e){this.elRef.nativeElement.style.setProperty("--width",e?e+"%":null)}onMarginChange(e){this.elRef.nativeElement.style.setProperty("--margin",e+"px")}onBorderChange(e){this.elRef.nativeElement.style.setProperty("--border",e+"px")}onBorderRadiusChange(e){this.elRef.nativeElement.style.setProperty("--border-radius-top-left",e?e.topLeft+"px":null),this.elRef.nativeElement.style.setProperty("--border-radius-top-right",e?e.topRight+"px":null),this.elRef.nativeElement.style.setProperty("--border-radius-bottom-left",e?e.bottomLeft+"px":null),this.elRef.nativeElement.style.setProperty("--border-radius-bottom-right",e?e.bottomRight+"px":null)}onTooltipBackgroundChange(e){this.elRef.nativeElement.style.setProperty("--tooltip-background",l.v.backgroundStyle(e))}onTooltipColorChange(e){this.elRef.nativeElement.style.setProperty("--tooltip-color",e.color)}onListFontChange(e){this.setFontStyle(e,"--list-style-")}initData(){this.addObservableFunc(),super.initData()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(u.a))},i.\u0275cmp=t.Xpm({type:i,selectors:[["wdg-other-title"]],features:[t.qOj],decls:2,vars:2,consts:[[3,"innerHTML",4,"ngIf"],["class","widget other",3,"ngClass",4,"ngIf"],[3,"innerHTML"],[1,"widget","other",3,"ngClass"],["target","_blank","rel","noopener",3,"href",4,"ngIf"],["target","_blank","rel","noopener",3,"href"]],template:function(e,v){1&e&&(t.YNc(0,c,2,4,"code",0),t.YNc(1,f,3,6,"div",1)),2&e&&(t.Q6J("ngIf",v.styles),t.xp6(1),t.Q6J("ngIf",v.widgetInit&&v.title&&v.options.show.value))},dependencies:[r.mk,r.O5,g.y],styles:["[_nghost-%COMP%]{--list-style-line-height: 1.5em;color:var(--text-color)}.widget[_ngcontent-%COMP%]{position:absolute;z-index:2;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;width:var(--width);padding:0 var(--border);margin:var(--margin);max-width:calc(100% - var(--margin) * 2);border-top-left-radius:var(--border-radius-top-left);border-top-right-radius:var(--border-radius-top-right);border-bottom-left-radius:var(--border-radius-bottom-left);border-bottom-right-radius:var(--border-radius-bottom-right);background:var(--background);font-style:var(--list-style-font-style);font-weight:var(--list-style-font-weight);-webkit-text-decoration:var(--list-style-text-decoration);text-decoration:var(--list-style-text-decoration);font-size:var(--list-style-font-size);font-family:var(--list-style-font-family);text-align:var(--list-style-text-align);line-height:var(--list-style-line-height);color:var(--list-style-color)}.widget[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.widget.bottom[_ngcontent-%COMP%], .widget.top[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);margin-left:initial;margin-right:initial}.widget.left[_ngcontent-%COMP%], .widget.right[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);margin-top:initial;margin-bottom:initial}.widget.top[_ngcontent-%COMP%], .widget.top-left[_ngcontent-%COMP%], .widget.top-right[_ngcontent-%COMP%]{top:0}.widget.bottom[_ngcontent-%COMP%], .widget.bottom-left[_ngcontent-%COMP%], .widget.bottom-right[_ngcontent-%COMP%]{bottom:0}.widget.bottom-right[_ngcontent-%COMP%], .widget.right[_ngcontent-%COMP%], .widget.top-right[_ngcontent-%COMP%]{right:0}.widget.bottom-left[_ngcontent-%COMP%], .widget.left[_ngcontent-%COMP%], .widget.top-left[_ngcontent-%COMP%]{left:0}@media screen and (max-width: 600px){.title[_ngcontent-%COMP%]{width:100%!important}}  #overlay.mobile wdg-other-title .widget{width:100%!important}code[_ngcontent-%COMP%]{display:none}"]}),i})(),b=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i,bootstrap:[y]}),i.\u0275inj=t.cJS({imports:[r.ez,p.D]}),i})()}}]);