"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[654],{7072:(v,l,t)=>{t.d(l,{o:()=>n});var r=t(8692),p=t(4537),d=t(4091),a=t(6101),m=t(7343),c=t(7493);class n{constructor(o){if(this.injector=o,this.isMobile=!1,this.observableFunc={},this.elRef=this.injector.get(p.SBq),this.i18n=this.injector.get(a.T),this.fontsService=this.injector.get(d.C),this.panoService=this.injector.get(m.X),this.statsService=this.injector.get(c.G),(0,r.NF)(this.panoService.platformId)){const e=navigator.userAgent.toLowerCase();this.isMobile=-1!==e.indexOf("mobile")||-1!==e.indexOf("android")}}_updateFontStyle(o,e){!o||Object.keys(e).filter(s=>["family","align","size","line_height"].includes(s)).forEach(s=>{o[s]||(o[s]=e[s])})}setFontStyle(o,e){this.fontsService.setFontStyle(this.elRef,o,e)}setStyleProperties(o){Object.entries(o).forEach(e=>{this.elRef.nativeElement.style.setProperty(e[0],e[1])})}}},7493:(v,l,t)=>{t.d(l,{G:()=>n});var r=t(4537),p=t(8692),d=t(5732),a=t(8066),m=t(5056),c=t(7343);let n=(()=>{class i{constructor(e,s,h,u,_){this.http=e,this.windowRef=s,this.viewerDataService=h,this.panoService=u,this.platformId=_,this.session_id=""}send(e){if((0,p.PM)(this.platformId)||this.viewerDataService.editor||!this.panoService.moderationUrl)return;this.session_id||(this.session_id=window.crypto.randomUUID());let s=this._getStats();0!=s.host.indexOf("localhost")&&(null!=e.type&&(s.type=e.type),null!=e.plugin&&(s.plugin=e.plugin),null!=e.details&&(s.details=e.details),this.http.post("https://apiw.gothru.co/tours/stats",s).subscribe())}getWidget(e){let h=[{name:"Berlin Menu",component:"MenuHopenkeComponent"},{name:"Side Menu",component:"MenuKavftigComponent"},{name:"Top Menu",component:"MenuLekprogComponent"},{name:"Real Estate Menu",component:"MenuLoppitteComponent"},{name:"Berlin Map",component:"SchemeHopenkeComponent"},{name:"Floor Map",component:"SchemeKavftigComponent"},{name:"Mapbox",component:"SchemeGvesjodComponent"},{name:"Berlin Hotspot",component:"HotspotHopenkeComponent"},{name:"Hotspot",component:"HotspotKavftigComponent"},{name:"Pano link",component:"HotspotHolmlackComponent"},{name:"Berlin Control",component:"ControlHopenkeComponent"},{name:"Control Bar",component:"ControlKavftigComponent"},{name:"Real Estate Control",component:"ControlLoppitteComponent"},{name:"Carousel",component:"OtherCarouselComponent"},{name:"Language",component:"OtherLanguageComponent"},{name:"Logo",component:"OtherLogoComponent"},{name:"Code",component:"OtherCodeComponent"},{name:"Password",component:"OtherPasswordComponent"},{name:"Pano Label",component:"OtherTitleComponent"}].filter(u=>u.component==e).pop();return h?{name:h.name,key:h.name.toLowerCase().replace(" ","_")}:{name:"",key:""}}_getStats(){let e={ip:null,action:null,returning:null,user_type:null,time:null,m_key:null,user_id:this.panoService.user_id,session_id:this.session_id,browser:this.windowRef.nativeWindow.navigator.userAgent,height:this.windowRef.nativeWindow.innerHeight,language:this.windowRef.nativeWindow.navigator.language,location:this.windowRef.nativeWindow.location.href,moderation_id:this.viewerDataService.active.t_id,pano_id:this.viewerDataService.active.id,referer:document.referrer,site:this.panoService.moderationUrl.substr(2),local_time:Math.floor(Date.now()/1e3),width:this.windowRef.nativeWindow.innerWidth,device:null,host:null,tour_type:null,plugin:null,type:null,details:null};return this.panoService.googleApiKey&&(e.m_key=this.panoService.googleApiKey),e.device=this.windowRef.nativeWindow.innerWidth<600?"mobile":this.windowRef.nativeWindow.innerWidth>=600&&this.windowRef.nativeWindow.innerWidth<1e3?"tablet":"desktop",e.host=e.location.split("/")[2],e.tour_type=0==this.panoService.moderationUrl.indexOf("G")?"google":"hosted",e}}return i.\u0275fac=function(e){return new(e||i)(r.LFG(d.eN),r.LFG(a.X),r.LFG(m.m),r.LFG(c.X),r.LFG(r.Lbi))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},9613:(v,l,t)=>{t.r(l),t.d(l,{OtherPasswordModule:()=>c});var r=t(8692),p=t(8041);const d=JSON.parse('{"widget":"OtherPasswordComponent","options":[{"key":"password","label":"Password","type":"simple-text","help":"","value":""},{"key":"password-label","label":"Label text","type":"simple-text","help":"Optional (default: Password)","value":""}]}');var a=t(4537);let m=(()=>{class n extends p.P{constructor(){super(...arguments),this.default_options=d}}return n.\u0275fac=function(){let i;return function(e){return(i||(i=a.n5z(n)))(e||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["wdg-other-password"]],features:[a.qOj],decls:0,vars:0,template:function(o,e){},encapsulation:2}),n})(),c=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[m]}),n.\u0275inj=a.cJS({imports:[r.ez]}),n})()}}]);