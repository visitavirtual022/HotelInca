"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[968],{7072:(C,p,o)=>{o.d(p,{o:()=>r});var a=o(4537),m=o(4091),s=o(6101),e=o(7343),h=o(7493);class r{constructor(l){this.injector=l,this.elRef=this.injector.get(a.SBq),this.i18n=this.injector.get(s.T),this.fontsService=this.injector.get(m.C),this.panoService=this.injector.get(e.X),this.statsService=this.injector.get(h.G)}_updateFontStyle(l,v){!l||Object.keys(v).filter(i=>["family","align","size","line_height"].includes(i)).forEach(i=>{l[i]||(l[i]=v[i])})}}},4507:(C,p,o)=>{o.d(p,{D:()=>m});var a=o(4537);let m=(()=>{class s{}return s.\u0275fac=function(h){return new(h||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({}),s})()},7239:(C,p,o)=>{o.d(p,{y:()=>s});var a=o(4537),m=o(5998);let s=(()=>{class e{constructor(r){this.sanitizer=r}transform(r,_){switch(_){case"html":return this.sanitizer.bypassSecurityTrustHtml(r);case"style":return this.sanitizer.bypassSecurityTrustStyle(r);case"script":return this.sanitizer.bypassSecurityTrustScript(r);case"url":return this.sanitizer.bypassSecurityTrustUrl(r);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(r);default:throw new Error(`Invalid safe type specified: ${_}`)}}}return e.\u0275fac=function(r){return new(r||e)(a.Y36(m.H7,16))},e.\u0275pipe=a.Yjl({name:"safe",type:e,pure:!0}),e})()},7493:(C,p,o)=>{o.d(p,{G:()=>_});var a=o(4537),m=o(8692),s=o(5732),e=o(8066),h=o(5056),r=o(7343);let _=(()=>{class l{constructor(i,d,u,f,n){this.http=i,this.windowRef=d,this.viewerDataService=u,this.panoService=f,this.platformId=n,this.session_id=""}send(i){if((0,m.PM)(this.platformId)||this.viewerDataService.editor||!this.panoService.moderationUrl)return;this.session_id||(this.session_id=(Math.random().toString(36).slice(2)+Date.now().toString(36)).substr(0,16));let d=this._getStats();0!=d.host.indexOf("localhost")&&(null!=i.type&&(d.type=i.type),null!=i.plugin&&(d.plugin=i.plugin),null!=i.details&&(d.details=i.details),this.http.post("https://apiw.gothru.co/tours/stats",d).subscribe())}getWidget(i){let u=[{name:"Berlin Menu",component:"MenuHopenkeComponent"},{name:"Side Menu",component:"MenuKavftigComponent"},{name:"Top Menu",component:"MenuLekprogComponent"},{name:"Real Estate Menu",component:"MenuLoppitteComponent"},{name:"Berlin Map",component:"SchemeHopenkeComponent"},{name:"Floor Map",component:"SchemeKavftigComponent"},{name:"Mapbox",component:"SchemeGvesjodComponent"},{name:"Berlin Hotspot",component:"HotspotHopenkeComponent"},{name:"Hotspot",component:"HotspotKavftigComponent"},{name:"Pano link",component:"HotspotHolmlackComponent"},{name:"Berlin Control",component:"ControlHopenkeComponent"},{name:"Control Bar",component:"ControlKavftigComponent"},{name:"Real Estate Control",component:"ControlLoppitteComponent"},{name:"Carousel",component:"OtherCarouselComponent"},{name:"Language",component:"OtherLanguageComponent"},{name:"Logo",component:"OtherLogoComponent"},{name:"Code",component:"OtherCodeComponent"},{name:"Password",component:"OtherPasswordComponent"},{name:"Pano Label",component:"OtherTitleComponent"}].filter(f=>f.component==i).pop();return u?{name:u.name,key:u.name.toLowerCase().replace(" ","_")}:{name:"",key:""}}_getStats(){let i={ip:null,action:null,returning:null,user_type:null,time:null,m_key:null,user_id:this.panoService.user_id,session_id:this.session_id,browser:this.windowRef.nativeWindow.navigator.userAgent,height:this.windowRef.nativeWindow.innerHeight,language:this.windowRef.nativeWindow.navigator.language,location:this.windowRef.nativeWindow.location.href,moderation_id:this.viewerDataService.active.t_id,pano_id:this.viewerDataService.active.id,referer:document.referrer,site:this.panoService.moderationUrl.substr(2),local_time:Math.floor(Date.now()/1e3),width:this.windowRef.nativeWindow.innerWidth,device:null,host:null,tour_type:null,plugin:null,type:null,details:null};return this.panoService.googleApiKey&&(i.m_key=this.panoService.googleApiKey),i.device=this.windowRef.nativeWindow.innerWidth<600?"mobile":this.windowRef.nativeWindow.innerWidth>=600&&this.windowRef.nativeWindow.innerWidth<1e3?"tablet":"desktop",i.host=i.location.split("/")[2],i.tour_type=0==this.panoService.moderationUrl.indexOf("G")?"google":"hosted",i}}return l.\u0275fac=function(i){return new(i||l)(a.LFG(s.eN),a.LFG(e.X),a.LFG(h.m),a.LFG(r.X),a.LFG(a.Lbi))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},1380:(C,p,o)=>{o.r(p),o.d(p,{OtherLogoModule:()=>f});var a=o(8692),m=o(8041);const s=JSON.parse('{"widget":"OtherLogoComponent","options":[{"key":"logos","label":"Image","type":"gallery","category":"content","url":true,"column":true,"value":[]},{"key":"width","label":"Size","type":"slider","category":"appearance","help":"%","value":10},{"key":"margin","label":"Margin","type":"slider","category":"appearance","help":"px","value":10},{"key":"area","label":"Area","areas":["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"],"type":"area","category":"appearance","value":"top-left"},{"key":"vertical","label":"Vertical","type":"toggle","category":"appearance","value":false},{"key":"padding-between","label":"Padding between","type":"slider","category":"appearance","help":"px","value":10},{"key":"styles","label":"Styles","type":"css","category":"styles","value":""}]}');var e=o(4537),h=o(7239);function r(n,c){if(1&n&&(e._UZ(0,"code",2),e.ALo(1,"safe")),2&n){const t=e.oxw();e.Q6J("innerHTML",e.xi3(1,1,t.styles,"html"),e.oJD)}}function _(n,c){if(1&n&&e._UZ(0,"img",8),2&n){const t=e.oxw().$implicit;e.Q6J("src",t.img,e.LSH)}}function l(n,c){if(1&n&&e._UZ(0,"a",9),2&n){const t=e.oxw().$implicit,g=e.oxw(2);e.Q6J("href",g.i18n.t(t.name),e.LSH)}}function v(n,c){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,_,1,1,"img",6),e.YNc(2,l,1,1,"a",7),e.qZA()),2&n){const t=c.$implicit,g=e.oxw(2);e.Udp("height",g.options.vertical.value?"calc((100% - "+(g.options.logos.value.length-1)+"*"+g.options.padding_between.value+"px)/"+g.options.logos.value.length+")":""),e.xp6(1),e.Q6J("ngIf",""!=t.img),e.xp6(1),e.Q6J("ngIf",""!=g.i18n.t(t.name))}}function i(n,c){if(1&n&&(e.TgZ(0,"div",3),e.YNc(1,v,3,4,"div",4),e.qZA()),2&n){const t=e.oxw();e.ekj("vertical",t.options.vertical.value),e.Q6J("ngClass",t.options.area.value),e.xp6(1),e.Q6J("ngForOf",t.options.logos.value)}}let d=(()=>{class n extends m.P{constructor(){super(...arguments),this.default_options=s}addObservableFunc(){this.observableFunc.width=t=>{this.onWidthChange(t)},this.observableFunc.margin=t=>this.onMarginChange(t),this.observableFunc.padding_between=t=>this.onPaddingBetweenChange(t)}onWidthChange(t){this.elRef.nativeElement.style.setProperty("--width",t+"%")}onMarginChange(t){this.elRef.nativeElement.style.setProperty("--margin",t+"px")}onPaddingBetweenChange(t){this.elRef.nativeElement.style.setProperty("--padding-between",t+"px")}initData(){this.addObservableFunc(),super.initData()}}return n.\u0275fac=function(){let c;return function(g){return(c||(c=e.n5z(n)))(g||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["wdg-other-logo"]],features:[e.qOj],decls:2,vars:2,consts:[[3,"innerHTML",4,"ngIf"],["class","widget other",3,"vertical","ngClass",4,"ngIf"],[3,"innerHTML"],[1,"widget","other",3,"ngClass"],["class","item",3,"height",4,"ngFor","ngForOf"],[1,"item"],["alt","logo",3,"src",4,"ngIf"],["target","_blank","rel","noopener",3,"href",4,"ngIf"],["alt","logo",3,"src"],["target","_blank","rel","noopener",3,"href"]],template:function(t,g){1&t&&(e.YNc(0,r,2,4,"code",0),e.YNc(1,i,2,4,"div",1)),2&t&&(e.Q6J("ngIf",g.styles),e.xp6(1),e.Q6J("ngIf",g.widgetInit))},dependencies:[a.mk,a.sg,a.O5,h.y],styles:[".widget[_ngcontent-%COMP%]{position:absolute;z-index:2;overflow:hidden;display:flex;gap:var(--padding-between);margin:var(--margin)}.widget[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:1;position:relative}.widget[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block;width:100%;height:100%}.widget[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%}.widget[_ngcontent-%COMP%]:not(.vertical){width:var(--width)}.widget.vertical[_ngcontent-%COMP%]{flex-direction:column;height:var(--width)}.widget.bottom[_ngcontent-%COMP%], .widget.top[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);margin-left:initial;margin-right:initial}.widget.left[_ngcontent-%COMP%], .widget.right[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);margin-top:initial;margin-bottom:initial}.widget.top[_ngcontent-%COMP%], .widget.top-left[_ngcontent-%COMP%], .widget.top-right[_ngcontent-%COMP%]{top:0}.widget.bottom[_ngcontent-%COMP%], .widget.bottom-left[_ngcontent-%COMP%], .widget.bottom-right[_ngcontent-%COMP%]{bottom:0}.widget.bottom-right[_ngcontent-%COMP%], .widget.right[_ngcontent-%COMP%], .widget.top-right[_ngcontent-%COMP%]{right:0}.widget.bottom-left[_ngcontent-%COMP%], .widget.left[_ngcontent-%COMP%], .widget.top-left[_ngcontent-%COMP%]{left:0}code[_ngcontent-%COMP%]{display:none}"]}),n})();var u=o(4507);let f=(()=>{class n{constructor(t){this.componentFactoryResolver=t}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(d)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e._Vd))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.ez,u.D]}),n})()}}]);