"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[592],{5864:(x,v,c)=>{c.d(v,{Z:()=>m});const d=h=>Math.max(h.offsetHeight,h.scrollHeight);class m{constructor(o={}){if(this.props={...{content:o.viewport.children[0],direction:"all",pointerMode:"all",scrollMode:void 0,bounce:!0,bounceForce:.1,friction:.05,textSelection:!1,inputsFocus:!0,emulateScroll:!1,preventDefaultOnEmulateScroll:!1,preventPointerMoveDefault:!0,lockScrollOnDragDirection:!1,pointerDownPreventDefault:!0,dragDirectionTolerance:40,onPointerDown(){},onPointerUp(){},onPointerMove(){},onClick(){},onUpdate(){},onWheel(){},shouldScroll:()=>!0},...o},!(this.props.viewport&&this.props.viewport instanceof Element))return void console.error('ScrollBooster init error: "viewport" config property must be present and must be Element');if(!this.props.content)return void console.error("ScrollBooster init error: Viewport does not have any content");this.isDragging=!1,this.isTargetScroll=!1,this.isScrolling=!1,this.isRunning=!1;const t={x:0,y:0};this.position={...t},this.velocity={...t},this.dragStartPosition={...t},this.dragOffset={...t},this.clientOffset={...t},this.dragPosition={...t},this.targetPosition={...t},this.scrollOffset={...t},this.rafID=null,this.events={},this.updateMetrics(),this.handleEvents()}updateOptions(o={}){this.props={...this.props,...o},this.props.onUpdate(this.getState()),this.startAnimationLoop()}updateMetrics(){var h;this.viewport={width:this.props.viewport.clientWidth,height:this.props.viewport.clientHeight},this.content={width:(h=this.props.content,Math.max(h.offsetWidth,h.scrollWidth)),height:d(this.props.content)},this.edgeX={from:Math.min(-this.content.width+this.viewport.width,0),to:0},this.edgeY={from:Math.min(-this.content.height+this.viewport.height,0),to:0},this.props.onUpdate(this.getState()),this.startAnimationLoop()}startAnimationLoop(){this.isRunning=!0,cancelAnimationFrame(this.rafID),this.rafID=requestAnimationFrame(()=>this.animate())}animate(){if(!this.isRunning)return;this.updateScrollPosition(),this.isMoving()||(this.isRunning=!1,this.isTargetScroll=!1);const o=this.getState();this.setContentPosition(o),this.props.onUpdate(o),this.rafID=requestAnimationFrame(()=>this.animate())}updateScrollPosition(){this.applyEdgeForce(),this.applyDragForce(),this.applyScrollForce(),this.applyTargetForce();const o=1-this.props.friction;this.velocity.x*=o,this.velocity.y*=o,"vertical"!==this.props.direction&&(this.position.x+=this.velocity.x),"horizontal"!==this.props.direction&&(this.position.y+=this.velocity.y),(!this.props.bounce||this.isScrolling)&&!this.isTargetScroll&&(this.position.x=Math.max(Math.min(this.position.x,this.edgeX.to),this.edgeX.from),this.position.y=Math.max(Math.min(this.position.y,this.edgeY.to),this.edgeY.from))}applyForce(o){this.velocity.x+=o.x,this.velocity.y+=o.y}applyEdgeForce(){if(!this.props.bounce||this.isDragging)return;const o=this.position.x<this.edgeX.from,a=this.position.x>this.edgeX.to,t=this.position.y<this.edgeY.from,e=this.position.y>this.edgeY.to,n=o||a,r=t||e;if(!n&&!r)return;const l_x=(o?this.edgeX.from:this.edgeX.to)-this.position.x,l_y=(t?this.edgeY.from:this.edgeY.to)-this.position.y,g={x:l_x*this.props.bounceForce,y:l_y*this.props.bounceForce},u_x=this.position.x+(this.velocity.x+g.x)/this.props.friction,u_y=this.position.y+(this.velocity.y+g.y)/this.props.friction;(o&&u_x>=this.edgeX.from||a&&u_x<=this.edgeX.to)&&(g.x=l_x*this.props.bounceForce-this.velocity.x),(t&&u_y>=this.edgeY.from||e&&u_y<=this.edgeY.to)&&(g.y=l_y*this.props.bounceForce-this.velocity.y),this.applyForce({x:n?g.x:0,y:r?g.y:0})}applyDragForce(){this.isDragging&&this.applyForce({x:this.dragPosition.x-this.position.x-this.velocity.x,y:this.dragPosition.y-this.position.y-this.velocity.y})}applyScrollForce(){!this.isScrolling||(this.applyForce({x:this.scrollOffset.x-this.velocity.x,y:this.scrollOffset.y-this.velocity.y}),this.scrollOffset.x=0,this.scrollOffset.y=0)}applyTargetForce(){!this.isTargetScroll||this.applyForce({x:.08*(this.targetPosition.x-this.position.x)-this.velocity.x,y:.08*(this.targetPosition.y-this.position.y)-this.velocity.y})}isMoving(){return this.isDragging||this.isScrolling||Math.abs(this.velocity.x)>=.01||Math.abs(this.velocity.y)>=.01}scrollTo(o={}){this.isTargetScroll=!0,this.targetPosition.x=-o.x||0,this.targetPosition.y=-o.y||0,this.startAnimationLoop()}setPosition(o={}){this.velocity.x=0,this.velocity.y=0,this.position.x=-o.x||0,this.position.y=-o.y||0,this.startAnimationLoop()}getState(){return{isMoving:this.isMoving(),isDragging:!(!this.dragOffset.x&&!this.dragOffset.y),position:{x:-this.position.x,y:-this.position.y},dragOffset:this.dragOffset,dragAngle:this.getDragAngle(this.clientOffset.x,this.clientOffset.y),borderCollision:{left:this.position.x>=this.edgeX.to,right:this.position.x<=this.edgeX.from,top:this.position.y>=this.edgeY.to,bottom:this.position.y<=this.edgeY.from}}}getDragAngle(o,a){return Math.round(Math.atan2(o,a)*(180/Math.PI))}getDragDirection(o,a){return Math.abs(90-Math.abs(o))<=90-a?"horizontal":"vertical"}setContentPosition(o){"transform"===this.props.scrollMode&&(this.props.content.style.transform=`translate(${-o.position.x}px, ${-o.position.y}px)`),"native"===this.props.scrollMode&&(this.props.viewport.scrollTop=o.position.y,this.props.viewport.scrollLeft=o.position.x)}handleEvents(){const o={x:0,y:0},a={x:0,y:0};let t=null,e=null,n=!1;const r=s=>{if(!this.isDragging)return;const l=n?s.touches[0]:s,{pageX:g,pageY:u,clientX:_,clientY:w}=l;this.dragOffset.x=g-o.x,this.dragOffset.y=u-o.y,this.clientOffset.x=_-a.x,this.clientOffset.y=w-a.y,(Math.abs(this.clientOffset.x)>5&&!t||Math.abs(this.clientOffset.y)>5&&!t)&&(t=this.getDragDirection(this.getDragAngle(this.clientOffset.x,this.clientOffset.y),this.props.dragDirectionTolerance)),this.props.lockScrollOnDragDirection&&"all"!==this.props.lockScrollOnDragDirection?t===this.props.lockScrollOnDragDirection&&n?(this.dragPosition.x=this.dragStartPosition.x+this.dragOffset.x,this.dragPosition.y=this.dragStartPosition.y+this.dragOffset.y):n?(this.dragPosition.x=this.dragStartPosition.x,this.dragPosition.y=this.dragStartPosition.y):(this.dragPosition.x=this.dragStartPosition.x+this.dragOffset.x,this.dragPosition.y=this.dragStartPosition.y+this.dragOffset.y):(this.dragPosition.x=this.dragStartPosition.x+this.dragOffset.x,this.dragPosition.y=this.dragStartPosition.y+this.dragOffset.y)};this.events.pointerdown=s=>{n=!(!s.touches||!s.touches[0]),this.props.onPointerDown(this.getState(),s,n);const l=n?s.touches[0]:s,{pageX:g,pageY:u,clientX:_,clientY:w}=l,{viewport:b}=this.props,C=b.getBoundingClientRect();if(!(_-C.left>=b.clientLeft+b.clientWidth||w-C.top>=b.clientTop+b.clientHeight||!this.props.shouldScroll(this.getState(),s)||2===s.button||"mouse"===this.props.pointerMode&&n||"touch"===this.props.pointerMode&&!n||this.props.inputsFocus&&["input","textarea","button","select","label"].indexOf(s.target.nodeName.toLowerCase())>-1)){if(this.props.textSelection){if(((h,o,a)=>{const t=h.childNodes,e=document.createRange();for(let n=0;n<t.length;n++){const r=t[n];if(3!==r.nodeType)continue;e.selectNodeContents(r);const s=e.getBoundingClientRect();if(o>=s.left&&a>=s.top&&o<=s.right&&a<=s.bottom)return r}return!1})(s.target,_,w))return;(()=>{const h=window.getSelection?window.getSelection():document.selection;!h||(h.removeAllRanges?h.removeAllRanges():h.empty&&h.empty())})()}this.isDragging=!0,o.x=g,o.y=u,a.x=_,a.y=w,this.dragStartPosition.x=this.position.x,this.dragStartPosition.y=this.position.y,r(s),this.startAnimationLoop(),!n&&this.props.pointerDownPreventDefault&&s.preventDefault()}},this.events.pointermove=s=>{s.cancelable&&("all"===this.props.lockScrollOnDragDirection||this.props.lockScrollOnDragDirection===t)&&s.preventDefault(),r(s),this.props.onPointerMove(this.getState(),s,n)},this.events.pointerup=s=>{this.isDragging=!1,t=null,this.props.onPointerUp(this.getState(),s,n)},this.events.wheel=s=>{const l=this.getState();!this.props.emulateScroll||(this.velocity.x=0,this.velocity.y=0,this.isScrolling=!0,this.scrollOffset.x=-s.deltaX,this.scrollOffset.y=-s.deltaY,this.props.onWheel(l,s),this.startAnimationLoop(),clearTimeout(e),e=setTimeout(()=>this.isScrolling=!1,80),this.props.preventDefaultOnEmulateScroll&&this.getDragDirection(this.getDragAngle(-s.deltaX,-s.deltaY),this.props.dragDirectionTolerance)===this.props.preventDefaultOnEmulateScroll&&s.preventDefault())},this.events.scroll=()=>{const{scrollLeft:s,scrollTop:l}=this.props.viewport;Math.abs(this.position.x+s)>3&&(this.position.x=-s,this.velocity.x=0),Math.abs(this.position.y+l)>3&&(this.position.y=-l,this.velocity.y=0)},this.events.click=s=>{const l=this.getState(),u="horizontal"!==this.props.direction?l.dragOffset.y:0;Math.max(Math.abs("vertical"!==this.props.direction?l.dragOffset.x:0),Math.abs(u))>5&&(s.preventDefault(),s.stopPropagation()),this.props.onClick(l,s,n)},this.events.contentLoad=()=>this.updateMetrics(),this.events.resize=()=>this.updateMetrics(),this.props.viewport.addEventListener("mousedown",this.events.pointerdown),this.props.viewport.addEventListener("touchstart",this.events.pointerdown,{passive:!1}),this.props.viewport.addEventListener("click",this.events.click),this.props.viewport.addEventListener("wheel",this.events.wheel,{passive:!1}),this.props.viewport.addEventListener("scroll",this.events.scroll),this.props.content.addEventListener("load",this.events.contentLoad,!0),window.addEventListener("mousemove",this.events.pointermove),window.addEventListener("touchmove",this.events.pointermove,{passive:!1}),window.addEventListener("mouseup",this.events.pointerup),window.addEventListener("touchend",this.events.pointerup),window.addEventListener("resize",this.events.resize)}destroy(){this.props.viewport.removeEventListener("mousedown",this.events.pointerdown),this.props.viewport.removeEventListener("touchstart",this.events.pointerdown),this.props.viewport.removeEventListener("click",this.events.click),this.props.viewport.removeEventListener("wheel",this.events.wheel),this.props.viewport.removeEventListener("scroll",this.events.scroll),this.props.content.removeEventListener("load",this.events.contentLoad),window.removeEventListener("mousemove",this.events.pointermove),window.removeEventListener("touchmove",this.events.pointermove),window.removeEventListener("mouseup",this.events.pointerup),window.removeEventListener("touchend",this.events.pointerup),window.removeEventListener("resize",this.events.resize)}}},8374:(x,v,c)=>{c.d(v,{E:()=>h});var i=c(4537),d=c(8692),f=c(92);const p=["audioElm"];function y(o,a){if(1&o){const t=i.EpF();i.O4$(),i.TgZ(0,"svg",12),i.NdJ("click",function(){i.CHM(t);const n=i.oxw();return i.KtG(n.play())}),i._UZ(1,"path",13),i.qZA()}}function m(o,a){if(1&o){const t=i.EpF();i.O4$(),i.TgZ(0,"svg",14),i.NdJ("click",function(){i.CHM(t);const n=i.oxw();return i.KtG(n.pause())}),i._UZ(1,"rect",15)(2,"rect",16),i.qZA()}}let h=(()=>{class o{constructor(){this.currentTime=0,this.duration=0}get notitle(){return this.src.split("/").pop().replace(".mp3","")}load(){!this.audioElm||(this.audio=this.audioElm.nativeElement,this.audio.addEventListener("loadeddata",()=>{this.duration=this.audio.duration,this.currentTime=this.audio.currentTime,this.autoplay&&this.play()}))}play(){this.audio&&this.audio.play()}pause(){this.audio&&this.audio.pause()}formatTime(t){var r,e=0,n=0;return(t=parseInt(t,10)||0)>3600&&(t-=60*(e=parseInt(t/3600+"",10))*60),t>60&&(t-=60*(n=parseInt(t/60+"",10))),r=t,t=e>0?e+":":"",(t+=n>0?(n<10&&e>0?"0":"")+n+":":"0:")+(r<10?"0":"")+r}setCurrentTime(t){this.currentTime=t.target.currentTime}changeCurrentTime(t){this.audio.currentTime=t}ngOnChanges(t){void 0!==t.src&&this.src&&this.load()}ngAfterViewInit(){this.src&&this.load()}ngOnDestroy(){this.pause(),this.audio.remove()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=i.Xpm({type:o,selectors:[["sh-audiobox"]],viewQuery:function(t,e){if(1&t&&i.Gf(p,5,i.SBq),2&t){let n;i.iGM(n=i.CRH())&&(e.audioElm=n.first)}},inputs:{src:"src",title:"title",light:"light",autoplay:"autoplay"},features:[i.TTD],decls:17,vars:10,consts:[[1,"player"],[1,"title-wrap"],[1,"button-wrap"],["class","button","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 150 150",3,"click",4,"ngIf"],["class","button","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",3,"click",4,"ngIf"],[1,"title"],[1,"seek-wrap"],["value","0","type","range","min","0","step",".1",1,"seek-bar",3,"ngModel","max","ngModelChange"],[1,"timing"],[3,"timeupdate"],["audioElm",""],["type","audio/mpeg",3,"src"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 150 150",1,"button",3,"click"],["d","M43.3,11.1C36.6,7.1 30.3,9.6 30.3,18.6C30.3,27.6 30.3,121.3 30.3,131.7C30.3,142.1 35.6,144 43.6,139.7C51.6,134.7 133.5,87.5 141.5,83C149.3,78.5 149,72.5 141.5,68.2C134,63.8 52.2,16.4 43.3,11.1Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"button",3,"click"],["width","18%","height","90%","x","22.5%","y","5%","rx","5%","ry","5%"],["width","18%","height","90%","x","62.5%","y","5%","rx","5%","ry","5%"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i.YNc(3,y,2,0,"svg",3),i.YNc(4,m,3,0,"svg",4),i.qZA(),i.TgZ(5,"div",5),i._uU(6),i.qZA()(),i.TgZ(7,"div",6)(8,"input",7),i.NdJ("ngModelChange",function(r){return e.currentTime=r})("ngModelChange",function(r){return e.changeCurrentTime(r)}),i.qZA()(),i.TgZ(9,"div",8)(10,"span"),i._uU(11),i.qZA(),i.TgZ(12,"span"),i._uU(13),i.qZA()(),i.TgZ(14,"audio",9,10),i.NdJ("timeupdate",function(r){return e.setCurrentTime(r)}),i._UZ(16,"source",11),i.qZA()()),2&t&&(i.ekj("light",e.light),i.xp6(3),i.Q6J("ngIf",e.audio&&e.audio.paused),i.xp6(1),i.Q6J("ngIf",e.audio&&!e.audio.paused),i.xp6(2),i.Oqu(e.title||e.notitle),i.xp6(2),i.Q6J("ngModel",e.currentTime)("max",e.duration),i.xp6(3),i.Oqu(e.formatTime(e.currentTime)),i.xp6(2),i.Oqu(e.formatTime(e.duration)),i.xp6(3),i.Q6J("src",e.src,i.LSH))},dependencies:[d.O5,f.Fj,f.eT,f.JJ,f.On],styles:['[_nghost-%COMP%]{width:100%}.player[_ngcontent-%COMP%]{color:#434546}.title-wrap[_ngcontent-%COMP%]{display:flex;align-items:center}.title-wrap[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.button-wrap[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;justify-content:center;position:relative;align-items:center;cursor:pointer}.button-wrap[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:30px;height:30px;cursor:pointer;fill:currentColor;z-index:1}.button-wrap[_ngcontent-%COMP%]:before{content:"";opacity:0;width:100%;height:100%;position:absolute;top:0;left:0;background-color:#46aaff1a;border-radius:50%;z-index:0}.button-wrap[_ngcontent-%COMP%]:hover{color:#46aaff}.button-wrap[_ngcontent-%COMP%]:hover:before{opacity:1}.seek-wrap[_ngcontent-%COMP%]{margin:4px 0;line-height:0}.seek-wrap[_ngcontent-%COMP%]   .seek-bar[type=range][_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;width:100%;height:100%;overflow:visible;outline:0 none;background-color:transparent;line-height:1em;vertical-align:top;font-size:1em;-webkit-appearance:none;cursor:pointer}.seek-wrap[_ngcontent-%COMP%]   .seek-bar[type=range][_ngcontent-%COMP%]:focus{outline:0 none}.seek-wrap[_ngcontent-%COMP%]   .seek-bar[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{box-sizing:border-box;width:98%;height:.125em;background-color:#434546;cursor:pointer;-webkit-transition:all .2s ease;transition:all .2s ease}.seek-wrap[_ngcontent-%COMP%]   .seek-bar[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{box-sizing:border-box;width:.5em;height:.5em;margin-top:-.175em;border-radius:.5em;background-color:#434546;-webkit-appearance:none}.seek-wrap[_ngcontent-%COMP%]:hover   .seek-bar[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{margin-top:-.3em;margin-left:-.05em;width:.75em;height:.75em;background-color:#46aaff}.timing[_ngcontent-%COMP%]{color:#888;display:flex;justify-content:space-between;font-size:13px}.player.light[_ngcontent-%COMP%]{color:#fefefe}.player.light[_ngcontent-%COMP%]   .seek-wrap[_ngcontent-%COMP%]   .seek-bar[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{background-color:#fefefe}.player.light[_ngcontent-%COMP%]   .seek-wrap[_ngcontent-%COMP%]   .seek-bar[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{background-color:#fefefe}']}),o})()},8041:(x,v,c)=>{c.d(v,{P:()=>h});var i=c(7267),d=c(6215),f=c(8692),p=c(9911),y=c(7072),m=c(4537);let h=(()=>{class o extends y.o{constructor(t){super(t),this.injector=t,this.default_options=null,this.data=null,this.widgetName=null,this.widget=null,this.widgetInit=!1,this.options={},this.icons=[],this.observableFunc={background:e=>this.onBackgroundChange(e),active_color:e=>this.onActiveColorChange(e),text_color:e=>this.onTextColorChange(e),common_color:e=>this.onCommonColorChange(e),common_background:e=>this.onCommonBackgroundChange(e),common_active_color:e=>this.onCommonActiveColorChange(e),common_text_color:e=>this.onCommonTextColorChange(e),styles:e=>this.onStylesChange(e)},this.fontsLoading=[],this.otherService=this.injector.get(i.m)}toggle(){this.widget&&null!==this.widget.show&&(this.widget.show=!this.widget.show)}onCommonBackgroundChange(t){this.elRef.nativeElement.style.setProperty("--background",p.v.backgroundStyle(t))}onCommonActiveColorChange(t){this.elRef.nativeElement.style.setProperty("--active-color",p.v.backgroundStyle(t))}onCommonTextColorChange(t){this.elRef.nativeElement.style.setProperty("--text-color",t?t.color:null)}onBackgroundChange(t){this.elRef.nativeElement.style.setProperty("--background",p.v.backgroundStyle(t))}onActiveColorChange(t){this.elRef.nativeElement.style.setProperty("--active-color",p.v.backgroundStyle(t))}onTextColorChange(t){this.elRef.nativeElement.style.setProperty("--text-color",t?t.color:null)}onCommonColorChange(t){this.elRef.nativeElement.style.setProperty("--background",p.v.backgroundStyle(t?this.panoService.commonColor.background:this.options.colors.value.background)),this.elRef.nativeElement.style.setProperty("--active-color",p.v.backgroundStyle(t?this.panoService.commonColor.active_color:this.options.colors.value.active_color)),this.elRef.nativeElement.style.setProperty("--text-color",t?this.panoService.commonColor.text_color.color:this.options.colors.value.text_color.color)}onStylesChange(t){this.styles=p.v.getStyleCode(this.elRef.nativeElement,t)}setFontStyle(t,e){this.fontsService.setFontStyle(this.elRef,t,e)}checkDefaultDataUpdate(){Object.keys(this.widget).forEach(t=>{"options"!=t?null==this.default_options[t]&&delete this.widget[t]:this.widget.options.forEach(e=>{let n=this.default_options.options.filter(r=>r.key==e.key).pop();n?Object.keys(e).forEach(r=>{null==n[r]&&delete e[r]}):this.widget.options=this.widget.options.filter(r=>r.key!=e.key)})}),Object.keys(this.default_options).forEach(t=>{"options"!=t?null==this.widget[t]&&(this.widget[t]=this.default_options[t]):this.default_options.options.forEach((e,n)=>{let r=this.widget.options.filter(s=>s.key==e.key).pop();r?(Object.keys(e).forEach(s=>{null==r[s]&&(r[s]=e[s])}),r.type=e.type,r.label=e.label,r.font&&this._updateFontStyle(r.font,e.font),-1!=["text","textarea"].indexOf(r.type)&&(r.value=this.i18n.checkTextObj(r.value))):(e.new=!0,this.widget.options.splice(n,0,e))})})}checkFontStyle(){this.widget.options.forEach(t=>{t.font&&t.font.family&&this.fontsLoading.push(this.fontsService.loadFonts([t.font.family]))})}initOptionsObject(){this.widget.options.forEach(t=>{let e=t.key.replace(/-/g,"_");this.options[e]=t})}initObs(){Object.keys(this.options).forEach(t=>{"colors"!=t?(this.options[t].obs=new d.X(this.options[t].value),this.options[t].font&&(this.options[t].obs_font=new d.X(this.options[t].font))):this.options[t].obs={common_color:new d.X(this.options[t].value.common_color),background:new d.X(this.options[t].value.background),active_color:new d.X(this.options[t].value.active_color),text_color:new d.X(this.options[t].value.text_color)}}),Object.keys(this.options).forEach(t=>{"colors"!=t?(this.options[t].obs.subscribe(e=>{this.observableFunc[t]&&this.observableFunc[t](e)}),this.options[t].obs_font&&this.options[t].obs_font.subscribe(e=>{this.observableFunc[t+"_font"]&&this.observableFunc[t+"_font"](e)})):Object.keys(this.options[t].obs).forEach(e=>{this.options[t].obs[e].subscribe(n=>{this.observableFunc[e]&&this.observableFunc[e](n)})})}),this.options.colors&&Object.keys(this.panoService.commonColorObs).forEach(t=>{this.panoService.commonColorObs[t].subscribe(e=>{this.observableFunc["common_"+t]&&this.options.colors.value.common_color&&this.observableFunc["common_"+t](e)})})}initData(){this.widgetName=this.default_options.widget,this.widget=this.otherService.getWidget(this.widgetName),this.checkDefaultDataUpdate(),this.checkFontStyle(),this.initOptionsObject(),(0,f.NF)(this.panoService.platformId)&&this.initObs(),this.widgetInit=!0}ngOnInit(){this.data||this.otherService.addWidget(this.default_options),p.v.waitUntil(()=>this.otherService.getWidget(this.default_options.widget)).then(()=>this.initData())}}return o.\u0275fac=function(t){return new(t||o)(m.Y36(m.zs3))},o.\u0275cmp=m.Xpm({type:o,selectors:[["other-component"]],inputs:{data:"data"},features:[m.qOj],decls:0,vars:0,template:function(t,e){},encapsulation:2}),o})()}}]);