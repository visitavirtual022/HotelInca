"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[393],{7072:(C,d,n)=>{n.d(d,{o:()=>e});var a=n(4537),p=n(4091),r=n(6101),s=n(7343),u=n(7493);class e{constructor(l){this.injector=l,this.elRef=this.injector.get(a.SBq),this.i18n=this.injector.get(r.T),this.fontsService=this.injector.get(p.C),this.panoService=this.injector.get(s.X),this.statsService=this.injector.get(u.G)}_updateFontStyle(l,_){!l||Object.keys(_).filter(i=>["family","align","size","line_height"].includes(i)).forEach(i=>{l[i]||(l[i]=_[i])})}}},4507:(C,d,n)=>{n.d(d,{D:()=>p});var a=n(4537);let p=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})()},7239:(C,d,n)=>{n.d(d,{y:()=>r});var a=n(4537),p=n(5998);let r=(()=>{class s{constructor(e){this.sanitizer=e}transform(e,m){switch(m){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error(`Invalid safe type specified: ${m}`)}}}return s.\u0275fac=function(e){return new(e||s)(a.Y36(p.H7,16))},s.\u0275pipe=a.Yjl({name:"safe",type:s,pure:!0}),s})()},7493:(C,d,n)=>{n.d(d,{G:()=>m});var a=n(4537),p=n(8692),r=n(5732),s=n(8066),u=n(5056),e=n(7343);let m=(()=>{class l{constructor(i,g,f,y,b){this.http=i,this.windowRef=g,this.viewerDataService=f,this.panoService=y,this.platformId=b,this.session_id=""}send(i){if((0,p.PM)(this.platformId)||this.viewerDataService.editor||!this.panoService.moderationUrl)return;this.session_id||(this.session_id=(Math.random().toString(36).slice(2)+Date.now().toString(36)).substr(0,16));let g=this._getStats();0!=g.host.indexOf("localhost")&&(null!=i.type&&(g.type=i.type),null!=i.plugin&&(g.plugin=i.plugin),null!=i.details&&(g.details=i.details),this.http.post("https://apiw.gothru.co/tours/stats",g).subscribe())}getWidget(i){let f=[{name:"Berlin Menu",component:"MenuHopenkeComponent"},{name:"Side Menu",component:"MenuKavftigComponent"},{name:"Top Menu",component:"MenuLekprogComponent"},{name:"Real Estate Menu",component:"MenuLoppitteComponent"},{name:"Berlin Map",component:"SchemeHopenkeComponent"},{name:"Floor Map",component:"SchemeKavftigComponent"},{name:"Mapbox",component:"SchemeGvesjodComponent"},{name:"Berlin Hotspot",component:"HotspotHopenkeComponent"},{name:"Hotspot",component:"HotspotKavftigComponent"},{name:"Pano link",component:"HotspotHolmlackComponent"},{name:"Berlin Control",component:"ControlHopenkeComponent"},{name:"Control Bar",component:"ControlKavftigComponent"},{name:"Real Estate Control",component:"ControlLoppitteComponent"},{name:"Carousel",component:"OtherCarouselComponent"},{name:"Language",component:"OtherLanguageComponent"},{name:"Logo",component:"OtherLogoComponent"},{name:"Code",component:"OtherCodeComponent"},{name:"Password",component:"OtherPasswordComponent"},{name:"Pano Label",component:"OtherTitleComponent"}].filter(y=>y.component==i).pop();return f?{name:f.name,key:f.name.toLowerCase().replace(" ","_")}:{name:"",key:""}}_getStats(){let i={ip:null,action:null,returning:null,user_type:null,time:null,m_key:null,user_id:this.panoService.user_id,session_id:this.session_id,browser:this.windowRef.nativeWindow.navigator.userAgent,height:this.windowRef.nativeWindow.innerHeight,language:this.windowRef.nativeWindow.navigator.language,location:this.windowRef.nativeWindow.location.href,moderation_id:this.viewerDataService.active.t_id,pano_id:this.viewerDataService.active.id,referer:document.referrer,site:this.panoService.moderationUrl.substr(2),local_time:Math.floor(Date.now()/1e3),width:this.windowRef.nativeWindow.innerWidth,device:null,host:null,tour_type:null,plugin:null,type:null,details:null};return this.panoService.googleApiKey&&(i.m_key=this.panoService.googleApiKey),i.device=this.windowRef.nativeWindow.innerWidth<600?"mobile":this.windowRef.nativeWindow.innerWidth>=600&&this.windowRef.nativeWindow.innerWidth<1e3?"tablet":"desktop",i.host=i.location.split("/")[2],i.tour_type=0==this.panoService.moderationUrl.indexOf("G")?"google":"hosted",i}}return l.\u0275fac=function(i){return new(i||l)(a.LFG(r.eN),a.LFG(s.X),a.LFG(u.m),a.LFG(e.X),a.LFG(a.Lbi))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},1101:(C,d,n)=>{n.r(d),n.d(d,{OtherSplashModule:()=>P});var a=n(8692),p=n(4507),r=n(8041),s=n(9911);const u=JSON.parse('{"widget":"OtherSplashComponent","outside":true,"show":true,"options":[{"key":"bg-image","label":"Background image","type":"image","category":"content","value":""},{"key":"bg-video","label":"Background video","type":"video","category":"content","help":"youtube, vimeo url (for mobile will be hided, use background image)","loop":true,"mute":true,"value":{"video_id":"","video_src":null}},{"key":"bg-color","label":"Background color","type":"color","category":"colors","value":{"type":"native","color":"rgba(0,0,0,0.5)"}},{"key":"width","label":"Width","type":"slider","category":"appearance","order":"1","clear":true,"help":"%","value":""},{"key":"height","label":"Height","type":"slider","category":"appearance","order":"2","clear":true,"help":"%","value":""},{"key":"image","label":"Image","type":"image","category":"content","value":""},{"key":"video","label":"Video","type":"video","category":"content","help":"youtube, vimeo url","value":{"video_id":"","video_src":null}},{"key":"media-area","label":"Media area","areas":["top","bottom","left","right"],"type":"area","order":"4","category":"appearance","value":"top"},{"key":"media-size","label":"Media size","type":"slider","category":"appearance","order":"3","clear":true,"help":"Depends on height (%)","value":""},{"key":"title","label":"Title","type":"text","category":"content","value":{"en":""},"font":{"family":"Exo","align":"center","size":16,"line_height":24,"italic":false,"bold":false,"underline":false,"color":""}},{"key":"text","label":"Text","type":"textarea","category":"content","value":{"en":""},"font":{"family":"Exo","align":"center","size":16,"line_height":24,"italic":false,"bold":false,"underline":false,"color":""}},{"key":"button","label":"Button","type":"text","category":"content","value":{"en":""},"font":{"family":"Exo","align":"center","size":16,"line_height":24,"italic":false,"bold":false,"underline":false,"color":""}},{"key":"colors","type":"color-bundle","category":"colors","value":{"common_color":false,"background":{"type":"native","color":"rgba(0,0,0,0)"},"active_color":{"type":"native","color":"rgb(255,255,255)"},"text_color":{"color":"rgb(255,255,255)"}}},{"key":"styles","label":"Styles","type":"css","category":"styles","value":""}]}');var e=n(4537),m=n(2001),l=n(5056),_=n(6883),i=n(7239);function g(o,c){if(1&o&&(e._UZ(0,"code",2),e.ALo(1,"safe")),2&o){const t=e.oxw();e.Q6J("innerHTML",e.xi3(1,1,t.styles,"html"),e.oJD)}}function f(o,c){if(1&o&&(e.TgZ(0,"div",13),e._UZ(1,"img",14),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.options.bg_image.value,e.LSH)}}function y(o,c){if(1&o&&(e.TgZ(0,"div",15),e._UZ(1,"iframe",16),e.ALo(2,"safe"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("src",e.xi3(2,1,t.options.bg_video.value.video_url,"resourceUrl"),e.uOi)}}function b(o,c){if(1&o&&e._UZ(0,"img",17),2&o){const t=e.oxw(2);e.Q6J("src",t.options.image.value,e.LSH)}}function w(o,c){if(1&o&&(e._UZ(0,"iframe",18),e.ALo(1,"safe")),2&o){const t=e.oxw(2);e.Q6J("src",e.xi3(1,1,t.options.video.value.video_url,"resourceUrl"),e.uOi)}}function O(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const v=e.oxw(2);return e.KtG(v.close())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.i18n.t(t.options.button.value)," ")}}function x(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",3),e.YNc(1,f,2,1,"div",4),e.YNc(2,y,3,4,"div",5),e.TgZ(3,"div",6),e.NdJ("click",function(){e.CHM(t);const v=e.oxw();return e.KtG(v.close())}),e.qZA(),e.TgZ(4,"div",7)(5,"div",8),e.YNc(6,b,1,1,"img",9),e.YNc(7,w,2,4,"iframe",10),e.qZA(),e.TgZ(8,"div",11)(9,"h2"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()()(),e.YNc(13,O,2,1,"button",12),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.options.bg_image.value),e.xp6(1),e.Q6J("ngIf",t.options.bg_video.value.video_url&&"mobile"!=t.device),e.xp6(2),e.Tol(t.options.media_area.value),e.xp6(2),e.Q6J("ngIf",t.options.image.value&&!t.options.video.value.video_url),e.xp6(1),e.Q6J("ngIf",t.options.video.value.video_url),e.xp6(3),e.Oqu(t.i18n.t(t.options.title.value)),e.xp6(2),e.Oqu(t.i18n.t(t.options.text.value)),e.xp6(1),e.Q6J("ngIf",t.i18n.t(t.options.button.value))}}let M=(()=>{class o extends r.P{constructor(t,h,v,S){super(t),this.viewerService=h,this.viewerDataService=v,this.controlService=S,this.default_options=u}get widgetShow(){return!this.viewerDataService.widgetVisibility.all}get device(){return this.viewerService.overlayDeviceClass}close(){if(this.widget.show=!1,this.viewerDataService.widgetVisibility.all=!0,!this.controlService.control||!this.controlService.control.tools)return;let t=this.controlService.control.tools.filter(v=>"slider"===v.key).pop();t&&t.autoplay_rotating&&this.viewerService.slidePano();let h=this.controlService.control.tools.filter(v=>"sound"===v.key).pop();h&&h.sound_src&&this.controlService.playSound()}addObservableFunc(){this.observableFunc.width=t=>{this.onWidthChange(t)},this.observableFunc.height=t=>{this.onHeightChange(t)},this.observableFunc.media_size=t=>{this.onMediaSizeChange(t)},this.observableFunc.bg_color=t=>{this.onBgColorChange(t)},this.observableFunc.title_font=t=>this.onTitleFontChange(t),this.observableFunc.text_font=t=>this.onTextFontChange(t),this.observableFunc.button_font=t=>this.onButtonFontChange(t)}onWidthChange(t){this.elRef.nativeElement.style.setProperty("--width",t?t+"%":null)}onHeightChange(t){this.elRef.nativeElement.style.setProperty("--height",t?t+"%":null)}onMediaSizeChange(t){this.elRef.nativeElement.style.setProperty("--media-size",t?t+"%":null),this.elRef.nativeElement.style.setProperty("--media-flex-size",t?"0 0 "+t+"%":"0 0 100%")}onBgColorChange(t){this.elRef.nativeElement.style.setProperty("--bg-color",s.v.backgroundStyle(t))}onTitleFontChange(t){this.setFontStyle(t,"--title-style-")}onTextFontChange(t){this.setFontStyle(t,"--text-style-")}onButtonFontChange(t){this.setFontStyle(t,"--button-style-")}initData(){this.addObservableFunc(),super.initData(),this.panoService.sanitizeUrl(this.options.bg_video.value,{loop:!0,mute:!0}),this.panoService.sanitizeUrl(this.options.video.value),this.viewerDataService.widgetVisibility.splash&&(this.viewerDataService.widgetVisibility.all=!1)}ngOnDestroy(){this.viewerDataService.widgetVisibility.all=!0}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.zs3),e.Y36(m.a),e.Y36(l.m),e.Y36(_.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["wdg-other-splash"]],features:[e.qOj],decls:2,vars:2,consts:[[3,"innerHTML",4,"ngIf"],["class","splash",4,"ngIf"],[3,"innerHTML"],[1,"splash"],["class","bg-image",4,"ngIf"],["class","bg-video",4,"ngIf"],[1,"bg",3,"click"],[1,"card"],[1,"media"],["alt","img",3,"src",4,"ngIf"],["title","video","width","100%","height","100%","allow","autoplay; fullscreen","allowfullscreen","true","allowscriptaccess","always",3,"src",4,"ngIf"],[1,"info"],[3,"click",4,"ngIf"],[1,"bg-image"],["alt","bg",3,"src"],[1,"bg-video"],["title","bg-video","width","100%","height","100%","allow","autoplay; fullscreen","allowfullscreen","true","allowscriptaccess","always",3,"src"],["alt","img",3,"src"],["title","video","width","100%","height","100%","allow","autoplay; fullscreen","allowfullscreen","true","allowscriptaccess","always",3,"src"],[3,"click"]],template:function(t,h){1&t&&(e.YNc(0,g,2,4,"code",0),e.YNc(1,x,14,9,"div",1)),2&t&&(e.Q6J("ngIf",h.styles),e.xp6(1),e.Q6J("ngIf",h.widgetInit&&h.widgetShow))},dependencies:[a.O5,i.y],styles:[".splash[_ngcontent-%COMP%]{z-index:11;position:relative;height:100%;display:flex;justify-content:center;align-items:center;color:var(--text-color)}iframe[_ngcontent-%COMP%]{border:none}.bg[_ngcontent-%COMP%], .bg-image[_ngcontent-%COMP%], .bg-video[_ngcontent-%COMP%], .splash[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%}.bg-video[_ngcontent-%COMP%]{background-color:#000}.bg-video[_ngcontent-%COMP%]     .ytp-chrome-top{display:none!important}.bg-image[_ngcontent-%COMP%]{overflow:hidden}.bg-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:100%;min-width:100%;width:auto;height:auto;max-width:none;max-height:none;display:block;position:relative;top:50%;left:50%;transform:translate(-50%,-50%)}.bg[_ngcontent-%COMP%]{background:var(--bg-color)}.card[_ngcontent-%COMP%]{display:flex;position:relative;width:var(--width);height:var(--height);background:var(--background)}.card.top[_ngcontent-%COMP%]{flex-direction:column}.card.top[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{margin-bottom:10px}.card.bottom[_ngcontent-%COMP%]{flex-direction:column-reverse}.card.bottom[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{margin-top:10px}.card.left[_ngcontent-%COMP%]{flex-direction:row}.card.left[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{margin-right:10px}.card.right[_ngcontent-%COMP%]{flex-direction:row-reverse}.card.right[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{margin-left:10px}.card[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;text-align:center;overflow:hidden;flex:var(--media-flex-size)}.card[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.card[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-grow:1}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:0;margin:0;font-style:var(--title-style-font-style);font-weight:var(--title-style-font-weight);-webkit-text-decoration:var(--title-style-text-decoration);text-decoration:var(--title-style-text-decoration);font-size:var(--title-style-font-size);font-family:var(--title-style-font-family);text-align:var(--title-style-text-align);line-height:var(--title-style-line-height);color:var(--title-style-color)}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre;font-style:var(--text-style-font-style);font-weight:var(--text-style-font-weight);-webkit-text-decoration:var(--text-style-text-decoration);text-decoration:var(--text-style-text-decoration);font-size:var(--text-style-font-size);font-family:var(--text-style-font-family);text-align:var(--text-style-text-align);line-height:var(--text-style-line-height);color:var(--text-style-color)}button[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);bottom:20px;border:1px solid #fff;background:transparent;padding:10px 20px;outline:none;border-radius:2px;border-color:var(--active-color);font-style:var(--button-style-font-style);font-weight:var(--button-style-font-weight);-webkit-text-decoration:var(--button-style-text-decoration);text-decoration:var(--button-style-text-decoration);font-size:var(--button-style-font-size);font-family:var(--button-style-font-family);text-align:var(--button-style-text-align);line-height:var(--button-style-line-height);color:var(--button-style-color)}button[_ngcontent-%COMP%]:hover{cursor:pointer}  #overlay.mobile wdg-other-splash .bg-video{display:none}code[_ngcontent-%COMP%]{display:none}"]}),o})(),P=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o,bootstrap:[M]}),o.\u0275inj=e.cJS({imports:[a.ez,p.D]}),o})()}}]);