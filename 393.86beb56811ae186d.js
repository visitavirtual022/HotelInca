"use strict";(self.webpackChunktourmkr_download=self.webpackChunktourmkr_download||[]).push([[393],{7072:(b,h,n)=>{n.d(h,{o:()=>f});var a=n(8692),p=n(4537),l=n(4091),s=n(6101),u=n(7343),e=n(7493);class f{constructor(c){if(this.injector=c,this.isMobile=!1,this.observableFunc={},this.elRef=this.injector.get(p.SBq),this.i18n=this.injector.get(s.T),this.fontsService=this.injector.get(l.C),this.panoService=this.injector.get(u.X),this.statsService=this.injector.get(e.G),(0,a.NF)(this.panoService.platformId)){const o=navigator.userAgent.toLowerCase();this.isMobile=-1!==o.indexOf("mobile")||-1!==o.indexOf("android")}}_updateFontStyle(c,o){!c||Object.keys(o).filter(r=>["family","align","size","line_height"].includes(r)).forEach(r=>{c[r]||(c[r]=o[r])})}setFontStyle(c,o){this.fontsService.setFontStyle(this.elRef,c,o)}setStyleProperties(c){Object.entries(c).forEach(o=>{this.elRef.nativeElement.style.setProperty(o[0],o[1])})}}},4507:(b,h,n)=>{n.d(h,{D:()=>p});var a=n(4537);let p=(()=>{class l{}return l.\u0275fac=function(u){return new(u||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({}),l})()},7239:(b,h,n)=>{n.d(h,{y:()=>l});var a=n(4537),p=n(5998);let l=(()=>{class s{constructor(e){this.sanitizer=e}transform(e,f){switch(f){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error(`Invalid safe type specified: ${f}`)}}}return s.\u0275fac=function(e){return new(e||s)(a.Y36(p.H7,16))},s.\u0275pipe=a.Yjl({name:"safe",type:s,pure:!0}),s})()},7493:(b,h,n)=>{n.d(h,{G:()=>f});var a=n(4537),p=n(8692),l=n(5732),s=n(8066),u=n(5056),e=n(7343);let f=(()=>{class v{constructor(o,r,_,y,C){this.http=o,this.windowRef=r,this.viewerDataService=_,this.panoService=y,this.platformId=C,this.session_id=""}send(o){if((0,p.PM)(this.platformId)||this.viewerDataService.editor||!this.panoService.moderationUrl)return;this.session_id||(this.session_id=window.crypto.randomUUID());let r=this._getStats();0!=r.host.indexOf("localhost")&&(null!=o.type&&(r.type=o.type),null!=o.plugin&&(r.plugin=o.plugin),null!=o.details&&(r.details=o.details),this.http.post("https://apiw.gothru.co/tours/stats",r).subscribe())}getWidget(o){let _=[{name:"Berlin Menu",component:"MenuHopenkeComponent"},{name:"Side Menu",component:"MenuKavftigComponent"},{name:"Top Menu",component:"MenuLekprogComponent"},{name:"Real Estate Menu",component:"MenuLoppitteComponent"},{name:"Berlin Map",component:"SchemeHopenkeComponent"},{name:"Floor Map",component:"SchemeKavftigComponent"},{name:"Mapbox",component:"SchemeGvesjodComponent"},{name:"Berlin Hotspot",component:"HotspotHopenkeComponent"},{name:"Hotspot",component:"HotspotKavftigComponent"},{name:"Pano link",component:"HotspotHolmlackComponent"},{name:"Berlin Control",component:"ControlHopenkeComponent"},{name:"Control Bar",component:"ControlKavftigComponent"},{name:"Real Estate Control",component:"ControlLoppitteComponent"},{name:"Carousel",component:"OtherCarouselComponent"},{name:"Language",component:"OtherLanguageComponent"},{name:"Logo",component:"OtherLogoComponent"},{name:"Code",component:"OtherCodeComponent"},{name:"Password",component:"OtherPasswordComponent"},{name:"Pano Label",component:"OtherTitleComponent"}].filter(y=>y.component==o).pop();return _?{name:_.name,key:_.name.toLowerCase().replace(" ","_")}:{name:"",key:""}}_getStats(){let o={ip:null,action:null,returning:null,user_type:null,time:null,m_key:null,user_id:this.panoService.user_id,session_id:this.session_id,browser:this.windowRef.nativeWindow.navigator.userAgent,height:this.windowRef.nativeWindow.innerHeight,language:this.windowRef.nativeWindow.navigator.language,location:this.windowRef.nativeWindow.location.href,moderation_id:this.viewerDataService.active.t_id,pano_id:this.viewerDataService.active.id,referer:document.referrer,site:this.panoService.moderationUrl.substr(2),local_time:Math.floor(Date.now()/1e3),width:this.windowRef.nativeWindow.innerWidth,device:null,host:null,tour_type:null,plugin:null,type:null,details:null};return this.panoService.googleApiKey&&(o.m_key=this.panoService.googleApiKey),o.device=this.windowRef.nativeWindow.innerWidth<600?"mobile":this.windowRef.nativeWindow.innerWidth>=600&&this.windowRef.nativeWindow.innerWidth<1e3?"tablet":"desktop",o.host=o.location.split("/")[2],o.tour_type=0==this.panoService.moderationUrl.indexOf("G")?"google":"hosted",o}}return v.\u0275fac=function(o){return new(o||v)(a.LFG(l.eN),a.LFG(s.X),a.LFG(u.m),a.LFG(e.X),a.LFG(a.Lbi))},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},1101:(b,h,n)=>{n.r(h),n.d(h,{OtherSplashModule:()=>S});var a=n(8692),p=n(4507),l=n(8041),s=n(9911);const u=JSON.parse('{"widget":"OtherSplashComponent","outside":true,"show":true,"options":[{"key":"bg-image","label":"Background image","type":"image","category":"content","value":""},{"key":"bg-video","label":"Background video","type":"video","category":"content","help":"youtube, vimeo url (for mobile will be hided, use background image)","loop":true,"mute":true,"value":{"en":""}},{"key":"bg-color","label":"Background color","type":"color","category":"colors","value":{"type":"native","color":"rgba(0,0,0,0.5)"}},{"key":"width","label":"Width","type":"slider","category":"appearance","order":"1","clear":true,"help":"%","value":""},{"key":"height","label":"Height","type":"slider","category":"appearance","order":"2","clear":true,"help":"%","value":""},{"key":"image","label":"Image","type":"image","category":"content","value":""},{"key":"video","label":"Video","type":"video","category":"content","help":"youtube, vimeo url","value":{"en":""}},{"key":"media-area","label":"Media area","areas":["top","bottom","left","right"],"type":"area","order":"4","category":"appearance","value":"top"},{"key":"media-size","label":"Media size","type":"slider","category":"appearance","order":"3","clear":true,"help":"Depends on height (%)","value":""},{"key":"title","label":"Title","type":"text","category":"content","value":{"en":""},"font":{"family":"Exo","align":"center","size":16,"line_height":24,"italic":false,"bold":false,"underline":false,"color":""}},{"key":"text","label":"Text","type":"textarea","category":"content","value":{"en":""},"font":{"family":"Exo","align":"center","size":16,"line_height":24,"italic":false,"bold":false,"underline":false,"color":""}},{"key":"button","label":"Button","type":"text","category":"content","value":{"en":""},"font":{"family":"Exo","align":"center","size":16,"line_height":24,"italic":false,"bold":false,"underline":false,"color":""}},{"key":"colors","type":"color-bundle","category":"colors","value":{"common_color":false,"background":{"type":"native","color":"rgba(0,0,0,0)"},"active_color":{"type":"native","color":"rgb(255,255,255)"},"text_color":{"color":"rgb(255,255,255)"}}},{"key":"styles","label":"Styles","type":"css","category":"styles","value":""}]}');var e=n(4537),f=n(2001),v=n(5056),c=n(6883),o=n(7239);function r(i,d){if(1&i&&(e._UZ(0,"code",2),e.ALo(1,"safe")),2&i){const t=e.oxw();e.Q6J("innerHTML",e.xi3(1,1,t.styles,"html"),e.oJD)}}function _(i,d){if(1&i&&(e.TgZ(0,"div",13),e._UZ(1,"img",14),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.options.bg_image.value,e.LSH)}}function y(i,d){if(1&i&&(e.TgZ(0,"div",15),e._UZ(1,"iframe",16),e.ALo(2,"safe"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("src",e.xi3(2,1,t.i18n.t(t.options.bg_video.value),"resourceUrl"),e.uOi)}}function C(i,d){if(1&i&&e._UZ(0,"img",17),2&i){const t=e.oxw(2);e.Q6J("src",t.options.image.value,e.LSH)}}function w(i,d){if(1&i&&(e._UZ(0,"iframe",18),e.ALo(1,"safe")),2&i){const t=e.oxw(2);e.Q6J("src",e.xi3(1,1,t.i18n.t(t.options.video.value),"resourceUrl"),e.uOi)}}function O(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.close())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.i18n.t(t.options.button.value)," ")}}function x(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",3),e.YNc(1,_,2,1,"div",4),e.YNc(2,y,3,4,"div",5),e.TgZ(3,"div",6),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.close())}),e.qZA(),e.TgZ(4,"div",7)(5,"div",8),e.YNc(6,C,1,1,"img",9),e.YNc(7,w,2,4,"iframe",10),e.qZA(),e.TgZ(8,"div",11)(9,"h2"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()()(),e.YNc(13,O,2,1,"button",12),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.options.bg_image.value),e.xp6(1),e.Q6J("ngIf",t.i18n.t(t.options.bg_video.value)&&"mobile"!=t.device),e.xp6(2),e.Tol(t.options.media_area.value),e.xp6(2),e.Q6J("ngIf",t.options.image.value&&!t.i18n.t(t.options.video.value)),e.xp6(1),e.Q6J("ngIf",t.i18n.t(t.options.video.value)),e.xp6(3),e.Oqu(t.i18n.t(t.options.title.value)),e.xp6(2),e.Oqu(t.i18n.t(t.options.text.value)),e.xp6(1),e.Q6J("ngIf",t.i18n.t(t.options.button.value))}}let M=(()=>{class i extends l.P{constructor(t,g,m,P){super(t),this.viewerService=g,this.viewerDataService=m,this.controlService=P,this.default_options=u}get widgetShow(){return!this.viewerDataService.widgetVisibility.all}get device(){return this.viewerService.overlayDeviceClass}close(){if(this.widget.show=!1,this.viewerDataService.widgetVisibility.all=!0,!this.controlService.control||!this.controlService.control.tools)return;let t=this.controlService.control.tools.filter(m=>"slider"===m.key).pop();t&&t.autoplay_rotating&&this.viewerService.slidePano();let g=this.controlService.control.tools.filter(m=>"sound"===m.key).pop();g&&g.sound_src&&this.controlService.playSound(),setTimeout(()=>{this.viewerService.viewer?._updateSizeListener()})}addObservableFunc(){this.observableFunc.width=t=>{this.onWidthChange(t)},this.observableFunc.height=t=>{this.onHeightChange(t)},this.observableFunc.media_size=t=>{this.onMediaSizeChange(t)},this.observableFunc.bg_color=t=>{this.onBgColorChange(t)},this.observableFunc.title_font=t=>this.onTitleFontChange(t),this.observableFunc.text_font=t=>this.onTextFontChange(t),this.observableFunc.button_font=t=>this.onButtonFontChange(t)}onWidthChange(t){this.elRef.nativeElement.style.setProperty("--width",t?t+"%":null)}onHeightChange(t){this.elRef.nativeElement.style.setProperty("--height",t?t+"%":null)}onMediaSizeChange(t){this.elRef.nativeElement.style.setProperty("--media-size",t?t+"%":null),this.elRef.nativeElement.style.setProperty("--media-flex-size",t?"0 0 "+t+"%":"0 0 100%")}onBgColorChange(t){this.elRef.nativeElement.style.setProperty("--bg-color",s.v.backgroundStyle(t))}onTitleFontChange(t){this.setFontStyle(t,"--title-style-")}onTextFontChange(t){this.setFontStyle(t,"--text-style-")}onButtonFontChange(t){this.setFontStyle(t,"--button-style-")}initData(){this.addObservableFunc(),super.initData(),this.panoService.sanitizeUrl(this.options.bg_video.value,{loop:!0,mute:!0}),this.panoService.sanitizeUrl(this.options.video.value),this.viewerDataService.widgetVisibility.splash&&(this.viewerDataService.widgetVisibility.all=!1),setTimeout(()=>{this.viewerService.viewer?._updateSizeListener()})}ngOnDestroy(){this.viewerDataService.widgetVisibility.all=!0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.zs3),e.Y36(f.a),e.Y36(v.m),e.Y36(c.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["wdg-other-splash"]],features:[e.qOj],decls:2,vars:2,consts:[[3,"innerHTML",4,"ngIf"],["class","splash",4,"ngIf"],[3,"innerHTML"],[1,"splash"],["class","bg-image",4,"ngIf"],["class","bg-video",4,"ngIf"],[1,"bg",3,"click"],[1,"card"],[1,"media"],["alt","img",3,"src",4,"ngIf"],["title","video","width","100%","height","100%","allow","autoplay; fullscreen","allowfullscreen","true","allowscriptaccess","always",3,"src",4,"ngIf"],[1,"info"],[3,"click",4,"ngIf"],[1,"bg-image"],["alt","bg",3,"src"],[1,"bg-video"],["title","bg-video","width","100%","height","100%","allow","autoplay; fullscreen","allowfullscreen","true","allowscriptaccess","always",3,"src"],["alt","img",3,"src"],["title","video","width","100%","height","100%","allow","autoplay; fullscreen","allowfullscreen","true","allowscriptaccess","always",3,"src"],[3,"click"]],template:function(t,g){1&t&&(e.YNc(0,r,2,4,"code",0),e.YNc(1,x,14,9,"div",1)),2&t&&(e.Q6J("ngIf",g.styles),e.xp6(1),e.Q6J("ngIf",g.widgetInit&&g.widgetShow))},dependencies:[a.O5,o.y],styles:[".splash[_ngcontent-%COMP%]{z-index:11;position:relative;height:100%;display:flex;justify-content:center;align-items:center;color:var(--text-color)}iframe[_ngcontent-%COMP%]{border:none}.bg[_ngcontent-%COMP%], .bg-image[_ngcontent-%COMP%], .bg-video[_ngcontent-%COMP%], .splash[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%}.bg-video[_ngcontent-%COMP%]{background-color:#000}.bg-video[_ngcontent-%COMP%]     .ytp-chrome-top{display:none!important}.bg-image[_ngcontent-%COMP%]{overflow:hidden}.bg-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:100%;min-width:100%;width:auto;height:auto;max-width:none;max-height:none;display:block;position:relative;top:50%;left:50%;transform:translate(-50%,-50%)}.bg[_ngcontent-%COMP%]{background:var(--bg-color)}.card[_ngcontent-%COMP%]{display:flex;position:relative;width:var(--width);height:var(--height);background:var(--background)}.card.top[_ngcontent-%COMP%]{flex-direction:column}.card.top[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{margin-bottom:10px}.card.bottom[_ngcontent-%COMP%]{flex-direction:column-reverse}.card.bottom[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{margin-top:10px}.card.left[_ngcontent-%COMP%]{flex-direction:row}.card.left[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{margin-right:10px}.card.right[_ngcontent-%COMP%]{flex-direction:row-reverse}.card.right[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{margin-left:10px}.card[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{justify-content:center;align-items:center;display:flex;text-align:center;overflow:hidden;flex:var(--media-flex-size)}.card[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.card[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-grow:1}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:0;margin:0;font-style:var(--title-style-font-style);font-weight:var(--title-style-font-weight);-webkit-text-decoration:var(--title-style-text-decoration);text-decoration:var(--title-style-text-decoration);font-size:var(--title-style-font-size);font-family:var(--title-style-font-family);text-align:var(--title-style-text-align);line-height:var(--title-style-line-height);color:var(--title-style-color)}.card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre;font-style:var(--text-style-font-style);font-weight:var(--text-style-font-weight);-webkit-text-decoration:var(--text-style-text-decoration);text-decoration:var(--text-style-text-decoration);font-size:var(--text-style-font-size);font-family:var(--text-style-font-family);text-align:var(--text-style-text-align);line-height:var(--text-style-line-height);color:var(--text-style-color)}button[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);bottom:20px;border:1px solid #fff;background:transparent;padding:10px 20px;outline:none;border-radius:2px;border-color:var(--active-color);font-style:var(--button-style-font-style);font-weight:var(--button-style-font-weight);-webkit-text-decoration:var(--button-style-text-decoration);text-decoration:var(--button-style-text-decoration);font-size:var(--button-style-font-size);font-family:var(--button-style-font-family);text-align:var(--button-style-text-align);line-height:var(--button-style-line-height);color:var(--button-style-color)}button[_ngcontent-%COMP%]:hover{cursor:pointer}  #overlay.mobile wdg-other-splash .bg-video{display:none}code[_ngcontent-%COMP%]{display:none}"]}),i})(),S=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[M]}),i.\u0275inj=e.cJS({imports:[a.ez,p.D]}),i})()}}]);